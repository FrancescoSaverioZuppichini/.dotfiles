"use strict";var e=require("os"),t=require("tty"),r=require("yargs/yargs"),n=require("yargs"),o=require("fs"),i=require("path"),u=require("@marp-team/marp-core"),s=require("cosmiconfig"),a=require("child_process"),c=require("assert"),l=require("events"),p=require("buffer"),D=require("stream"),d=require("url"),f=require("util"),h=require("globby"),m=require("tmp"),g=require("@marp-team/marpit"),b=require("chrome-launcher"),v=require("puppeteer-core"),y=require("crypto"),C=require("chokidar"),F=require("net"),E=require("ws"),w=require("import-from"),k=require("querystring"),x=require("express"),A=require("serve-index"),B=require("@marp-team/marp-core/package.json");function S(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var P=S(e),j=S(t),O=S(r),M=S(o),_=S(i),T=S(a),N=S(c),L=S(l),R=S(p),z=S(D),U=I(d),G=S(d),$=S(f),H=S(h),Z=S(v),W=S(y),q=S(C),Y=S(F),V=S(w),J=S(k),X=S(x),K=S(A);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function Q(e,t,r,n){return new(r||(r=Promise))((function(o,i){function u(e){try{a(n.next(e))}catch(e){i(e)}}function s(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,s)}a((n=n.apply(e,t||[])).next())}))}var ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},te={exports:{}};const re={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ne={};for(const e of Object.keys(re))ne[re[e]]=e;const oe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var ie=oe;for(const e of Object.keys(oe)){if(!("channels"in oe[e]))throw new Error("missing channels property: "+e);if(!("labels"in oe[e]))throw new Error("missing channel labels property: "+e);if(oe[e].labels.length!==oe[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=oe[e];delete oe[e].channels,delete oe[e].labels,Object.defineProperty(oe[e],"channels",{value:t}),Object.defineProperty(oe[e],"labels",{value:r})}function ue(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}oe.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,o=Math.min(t,r,n),i=Math.max(t,r,n),u=i-o;let s,a;i===o?s=0:t===i?s=(r-n)/u:r===i?s=2+(n-t)/u:n===i&&(s=4+(t-r)/u),s=Math.min(60*s,360),s<0&&(s+=360);const c=(o+i)/2;return a=i===o?0:c<=.5?u/(i+o):u/(2-i-o),[s,100*a,100*c]},oe.rgb.hsv=function(e){let t,r,n,o,i;const u=e[0]/255,s=e[1]/255,a=e[2]/255,c=Math.max(u,s,a),l=c-Math.min(u,s,a),p=function(e){return(c-e)/6/l+.5};return 0===l?(o=0,i=0):(i=l/c,t=p(u),r=p(s),n=p(a),u===c?o=n-r:s===c?o=1/3+t-n:a===c&&(o=2/3+r-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},oe.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const o=oe.rgb.hsl(e)[0],i=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[o,100*i,100*n]},oe.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,o=Math.min(1-t,1-r,1-n);return[100*((1-t-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*o]},oe.rgb.keyword=function(e){const t=ne[e];if(t)return t;let r,n=1/0;for(const t of Object.keys(re)){const o=ue(e,re[t]);o<n&&(n=o,r=t)}return r},oe.keyword.rgb=function(e){return re[e]},oe.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*t+.3576*r+.1805*n),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},oe.rgb.lab=function(e){const t=oe.rgb.xyz(e);let r=t[0],n=t[1],o=t[2];r/=95.047,n/=100,o/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*n-16,500*(r-n),200*(n-o)]},oe.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let o,i,u;if(0===r)return u=255*n,[u,u,u];o=n<.5?n*(1+r):n+r-n*r;const s=2*n-o,a=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,u=6*i<1?s+6*(o-s)*i:2*i<1?o:3*i<2?s+(o-s)*(2/3-i)*6:s,a[e]=255*u;return a},oe.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,o=r;const i=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,o*=i<=1?i:2-i;return[t,100*(0===n?2*o/(i+o):2*r/(n+r)),100*((n+r)/2)]},oe.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const o=Math.floor(t)%6,i=t-Math.floor(t),u=255*n*(1-r),s=255*n*(1-r*i),a=255*n*(1-r*(1-i));switch(n*=255,o){case 0:return[n,a,u];case 1:return[s,n,u];case 2:return[u,n,a];case 3:return[u,s,n];case 4:return[a,u,n];case 5:return[n,u,s]}},oe.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,o=Math.max(n,.01);let i,u;u=(2-r)*n;const s=(2-r)*o;return i=r*o,i/=s<=1?s:2-s,i=i||0,u/=2,[t,100*i,100*u]},oe.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const o=r+n;let i;o>1&&(r/=o,n/=o);const u=Math.floor(6*t),s=1-n;i=6*t-u,0!=(1&u)&&(i=1-i);const a=r+i*(s-r);let c,l,p;switch(u){default:case 6:case 0:c=s,l=a,p=r;break;case 1:c=a,l=s,p=r;break;case 2:c=r,l=s,p=a;break;case 3:c=r,l=a,p=s;break;case 4:c=a,l=r,p=s;break;case 5:c=s,l=r,p=a}return[255*c,255*l,255*p]},oe.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},oe.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let o,i,u;return o=3.2406*t+-1.5372*r+-.4986*n,i=-.9689*t+1.8758*r+.0415*n,u=.0557*t+-.204*r+1.057*n,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,u=u>.0031308?1.055*u**(1/2.4)-.055:12.92*u,o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),u=Math.min(Math.max(0,u),1),[255*o,255*i,255*u]},oe.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(t-r),200*(r-n)]},oe.lab.xyz=function(e){let t,r,n;r=(e[0]+16)/116,t=e[1]/500+r,n=r-e[2]/200;const o=r**3,i=t**3,u=n**3;return r=o>.008856?o:(r-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,n=u>.008856?u:(n-16/116)/7.787,t*=95.047,r*=100,n*=108.883,[t,r,n]},oe.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let o;o=360*Math.atan2(n,r)/2/Math.PI,o<0&&(o+=360);return[t,Math.sqrt(r*r+n*n),o]},oe.lch.lab=function(e){const t=e[0],r=e[1],n=e[2]/360*2*Math.PI;return[t,r*Math.cos(n),r*Math.sin(n)]},oe.rgb.ansi16=function(e,t=null){const[r,n,o]=e;let i=null===t?oe.rgb.hsv(e)[2]:t;if(i=Math.round(i/50),0===i)return 30;let u=30+(Math.round(o/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===i&&(u+=60),u},oe.hsv.ansi16=function(e){return oe.rgb.ansi16(oe.hsv.rgb(e),e[2])},oe.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},oe.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},oe.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},oe.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},oe.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map((e=>e+e)).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},oe.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,o=Math.max(Math.max(t,r),n),i=Math.min(Math.min(t,r),n),u=o-i;let s,a;return s=u<1?i/(1-u):0,a=u<=0?0:o===t?(r-n)/u%6:o===r?2+(n-t)/u:4+(t-r)/u,a/=6,a%=1,[360*a,100*u,100*s]},oe.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let o=0;return n<1&&(o=(r-.5*n)/(1-n)),[e[0],100*n,100*o]},oe.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let o=0;return n<1&&(o=(r-n)/(1-n)),[e[0],100*n,100*o]},oe.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];const o=[0,0,0],i=t%1*6,u=i%1,s=1-u;let a=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=u,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=u;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=u,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return a=(1-r)*n,[255*(r*o[0]+a),255*(r*o[1]+a),255*(r*o[2]+a)]},oe.hcg.hsv=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);let n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},oe.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},oe.hcg.hwb=function(e){const t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},oe.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,n=r-t;let o=0;return n<1&&(o=(r-n)/(1-n)),[e[0],100*n,100*o]},oe.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},oe.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},oe.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},oe.gray.hsl=function(e){return[0,0,e[0]]},oe.gray.hsv=oe.gray.hsl,oe.gray.hwb=function(e){return[0,100,e[0]]},oe.gray.cmyk=function(e){return[0,0,0,e[0]]},oe.gray.lab=function(e){return[e[0],0,0]},oe.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},oe.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const se=ie;function ae(e){const t=function(){const e={},t=Object.keys(se);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;){const e=r.pop(),n=Object.keys(se[e]);for(let o=n.length,i=0;i<o;i++){const o=n[i],u=t[o];-1===u.distance&&(u.distance=t[e].distance+1,u.parent=e,r.unshift(o))}}return t}function ce(e,t){return function(r){return t(e(r))}}function le(e,t){const r=[t[e].parent,e];let n=se[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)r.unshift(t[o].parent),n=ce(se[t[o].parent][o],n),o=t[o].parent;return n.conversion=r,n}const pe=ie,De=function(e){const t=ae(e),r={},n=Object.keys(t);for(let e=n.length,o=0;o<e;o++){const e=n[o];null!==t[e].parent&&(r[e]=le(e,t))}return r},de={};Object.keys(pe).forEach((e=>{de[e]={},Object.defineProperty(de[e],"channels",{value:pe[e].channels}),Object.defineProperty(de[e],"labels",{value:pe[e].labels});const t=De(e);Object.keys(t).forEach((r=>{const n=t[r];de[e][r]=function(e){const t=function(...t){const r=t[0];if(null==r)return r;r.length>1&&(t=r);const n=e(t);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(n),de[e][r].raw=function(e){const t=function(...t){const r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))}));var fe=de;!function(e){const t=(e,t)=>(...r)=>`[${e(...r)+t}m`,r=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},n=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},o=e=>e,i=(e,t,r)=>[e,t,r],u=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let s;const a=(e,t,r,n)=>{void 0===s&&(s=fe);const o=n?10:0,i={};for(const[n,u]of Object.entries(s)){const s="ansi16"===n?"ansi":n;n===t?i[s]=e(r,o):"object"==typeof u&&(i[s]=e(u[t],o))}return i};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};s.color.gray=s.color.blackBright,s.bgColor.bgGray=s.bgColor.bgBlackBright,s.color.grey=s.color.blackBright,s.bgColor.bgGrey=s.bgColor.bgBlackBright;for(const[t,r]of Object.entries(s)){for(const[t,n]of Object.entries(r))s[t]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[t]=s[t],e.set(n[0],n[1]);Object.defineProperty(s,t,{value:r,enumerable:!1})}return Object.defineProperty(s,"codes",{value:e,enumerable:!1}),s.color.close="[39m",s.bgColor.close="[49m",u(s.color,"ansi",(()=>a(t,"ansi16",o,!1))),u(s.color,"ansi256",(()=>a(r,"ansi256",o,!1))),u(s.color,"ansi16m",(()=>a(n,"rgb",i,!1))),u(s.bgColor,"ansi",(()=>a(t,"ansi16",o,!0))),u(s.bgColor,"ansi256",(()=>a(r,"ansi256",o,!0))),u(s.bgColor,"ansi16m",(()=>a(n,"rgb",i,!0))),s}})}(te);const he=P.default,me=j.default,ge=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)},{env:be}=process;let ve;function ye(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Ce(e,t){if(0===ve)return 0;if(ge("color=16m")||ge("color=full")||ge("color=truecolor"))return 3;if(ge("color=256"))return 2;if(e&&!t&&void 0===ve)return 0;const r=ve||0;if("dumb"===be.TERM)return r;if("win32"===process.platform){const e=he.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in be)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in be))||"codeship"===be.CI_NAME?1:r;if("TEAMCITY_VERSION"in be)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(be.TEAMCITY_VERSION)?1:0;if("truecolor"===be.COLORTERM)return 3;if("TERM_PROGRAM"in be){const e=parseInt((be.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(be.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(be.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(be.TERM)||"COLORTERM"in be?1:r}ge("no-color")||ge("no-colors")||ge("color=false")||ge("color=never")?ve=0:(ge("color")||ge("colors")||ge("color=true")||ge("color=always"))&&(ve=1),"FORCE_COLOR"in be&&(ve="true"===be.FORCE_COLOR?1:"false"===be.FORCE_COLOR?0:0===be.FORCE_COLOR.length?1:Math.min(parseInt(be.FORCE_COLOR,10),3));var Fe={supportsColor:function(e){return ye(Ce(e,e&&e.isTTY))},stdout:ye(Ce(!0,me.isatty(1))),stderr:ye(Ce(!0,me.isatty(2)))};var Ee={stringReplaceAll:(e,t,r)=>{let n=e.indexOf(t);if(-1===n)return e;const o=t.length;let i=0,u="";do{u+=e.substr(i,n-i)+t+r,i=n+o,n=e.indexOf(t,i)}while(-1!==n);return u+=e.substr(i),u},stringEncaseCRLFWithFirstIndex:(e,t,r,n)=>{let o=0,i="";do{const u="\r"===e[n-1];i+=e.substr(o,(u?n-1:n)-o)+t+(u?"\r\n":"\n")+r,o=n+1,n=e.indexOf("\n",o)}while(-1!==n);return i+=e.substr(o),i}};const we=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,ke=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,xe=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Ae=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Be=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function Se(e){const t="u"===e[0],r="{"===e[1];return t&&!r&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):Be.get(e)||e}function Ie(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let o;for(const t of n){const n=Number(t);if(Number.isNaN(n)){if(!(o=t.match(xe)))throw new Error(`Invalid Chalk template style argument: ${t} (in style '${e}')`);r.push(o[2].replace(Ae,((e,t,r)=>t?Se(t):r)))}else r.push(n)}return r}function Pe(e){ke.lastIndex=0;const t=[];let r;for(;null!==(r=ke.exec(e));){const e=r[1];if(r[2]){const n=Ie(e,r[2]);t.push([e].concat(n))}else t.push([e])}return t}function je(e,t){const r={};for(const e of t)for(const t of e.styles)r[t[0]]=e.inverse?null:t.slice(1);let n=e;for(const[e,t]of Object.entries(r))if(Array.isArray(t)){if(!(e in n))throw new Error(`Unknown Chalk style: ${e}`);n=t.length>0?n[e](...t):n[e]}return n}var Oe=(e,t)=>{const r=[],n=[];let o=[];if(t.replace(we,((t,i,u,s,a,c)=>{if(i)o.push(Se(i));else if(s){const t=o.join("");o=[],n.push(0===r.length?t:je(e,r)(t)),r.push({inverse:u,styles:Pe(s)})}else if(a){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");n.push(je(e,r)(o.join(""))),o=[],r.pop()}else o.push(c)})),n.push(o.join("")),r.length>0){const e=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(e)}return n.join("")};const Me=te.exports,{stdout:_e,stderr:Te}=Fe,{stringReplaceAll:Ne,stringEncaseCRLFWithFirstIndex:Le}=Ee,{isArray:Re}=Array,ze=["ansi","ansi","ansi256","ansi16m"],Ue=Object.create(null);class Ge{constructor(e){return $e(e)}}const $e=e=>{const t={};return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=_e?_e.level:0;e.level=void 0===t.level?r:t.level})(t,e),t.template=(...e)=>Xe(t.template,...e),Object.setPrototypeOf(t,He.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Ge,t.template};function He(e){return $e(e)}for(const[e,t]of Object.entries(Me))Ue[e]={get(){const r=Ye(this,qe(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};Ue.visible={get(){const e=Ye(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const Ze=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of Ze)Ue[e]={get(){const{level:t}=this;return function(...r){const n=qe(Me.color[ze[t]][e](...r),Me.color.close,this._styler);return Ye(this,n,this._isEmpty)}}};for(const e of Ze){Ue["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...r){const n=qe(Me.bgColor[ze[t]][e](...r),Me.bgColor.close,this._styler);return Ye(this,n,this._isEmpty)}}}}const We=Object.defineProperties((()=>{}),{...Ue,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),qe=(e,t,r)=>{let n,o;return void 0===r?(n=e,o=t):(n=r.openAll+e,o=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:o,parent:r}},Ye=(e,t,r)=>{const n=(...e)=>Re(e[0])&&Re(e[0].raw)?Ve(n,Xe(n,...e)):Ve(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,We),n._generator=e,n._styler=t,n._isEmpty=r,n},Ve=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(void 0===r)return t;const{openAll:n,closeAll:o}=r;if(-1!==t.indexOf(""))for(;void 0!==r;)t=Ne(t,r.close,r.open),r=r.parent;const i=t.indexOf("\n");return-1!==i&&(t=Le(t,o,n,i)),n+t+o};let Je;const Xe=(e,...t)=>{const[r]=t;if(!Re(r)||!Re(r.raw))return t.join(" ");const n=t.slice(1),o=[r.raw[0]];for(let e=1;e<r.length;e++)o.push(String(n[e-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[e]));return void 0===Je&&(Je=Oe),Je(e,o.join(""))};Object.defineProperties(He.prototype,Ue);const Ke=He();Ke.supportsColor=_e,Ke.stderr=He({level:Te?Te.level:0}),Ke.stderr.supportsColor=Te;var Qe=Ke;function et(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(function({onlyFirst:e=!1}={}){const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}(),"")}function tt(e){return!!Number.isInteger(e)&&(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141))}function rt(e){if("string"!=typeof e||0===e.length)return 0;if(0===(e=et(e)).length)return 0;e=e.replace(/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,"  ");let t=0;for(let r=0;r<e.length;r++){const n=e.codePointAt(r);n<=31||n>=127&&n<=159||(n>=768&&n<=879||(n>65535&&r++,t+=tt(n)?2:1))}return t}const nt=(e=0)=>t=>`[${t+e}m`,ot=(e=0)=>t=>`[${38+e};5;${t}m`,it=(e=0)=>(t,r,n)=>`[${38+e};2;${t};${r};${n}m`;const ut=function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,n]of Object.entries(t)){for(const[r,o]of Object.entries(n))t[r]={open:`[${o[0]}m`,close:`[${o[1]}m`},n[r]=t[r],e.set(o[0],o[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",t.color.ansi=nt(),t.color.ansi256=ot(),t.color.ansi16m=it(),t.bgColor.ansi=nt(10),t.bgColor.ansi256=ot(10),t.bgColor.ansi16m=it(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:r}=t.groups;3===r.length&&(r=r.split("").map((e=>e+e)).join(""));const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return e-8+90;let t,r,n;if(e>=232)t=(10*(e-232)+8)/255,r=t,n=t;else{const o=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(o/6)/5,n=o%6/5}const o=2*Math.max(t,r,n);if(0===o)return 30;let i=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(t));return 2===o&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,r,n)=>t.ansi256ToAnsi(t.rgbToAnsi256(e,r,n)),enumerable:!1},hexToAnsi:{value:e=>t.ansi256ToAnsi(t.hexToAnsi256(e)),enumerable:!1}}),t}(),st=new Set(["",""]),at=e=>`${st.values().next().value}[${e}m`,ct=e=>`${st.values().next().value}]8;;${e}`,lt=(e,t,r)=>{const n=[...t];let o=!1,i=!1,u=rt(et(e[e.length-1]));for(const[t,s]of n.entries()){const a=rt(s);u+a<=r?e[e.length-1]+=s:(e.push(s),u=0),st.has(s)&&(o=!0,i=n.slice(t+1).join("").startsWith("]8;;")),o?i?""===s&&(o=!1,i=!1):"m"===s&&(o=!1):(u+=a,u===r&&t<n.length-1&&(e.push(""),u=0))}!u&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},pt=(e,t,r={})=>{if(!1!==r.trim&&""===e.trim())return"";let n,o,i="";const u=(e=>e.split(" ").map((e=>rt(e))))(e);let s=[""];for(const[n,o]of e.split(" ").entries()){!1!==r.trim&&(s[s.length-1]=s[s.length-1].trimStart());let e=rt(s[s.length-1]);if(0!==n&&(e>=t&&(!1===r.wordWrap||!1===r.trim)&&(s.push(""),e=0),(e>0||!1===r.trim)&&(s[s.length-1]+=" ",e++)),r.hard&&u[n]>t){const r=t-e,i=1+Math.floor((u[n]-r-1)/t);Math.floor((u[n]-1)/t)<i&&s.push(""),lt(s,o,t)}else{if(e+u[n]>t&&e>0&&u[n]>0){if(!1===r.wordWrap&&e<t){lt(s,o,t);continue}s.push("")}e+u[n]>t&&!1===r.wordWrap?lt(s,o,t):s[s.length-1]+=o}}!1!==r.trim&&(s=s.map((e=>(e=>{const t=e.split(" ");let r=t.length;for(;r>0&&!(rt(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")})(e))));const a=[...s.join("\n")];for(const[e,t]of a.entries()){if(i+=t,st.has(t)){const{groups:t}=new RegExp("(?:\\[(?<code>\\d+)m|\\]8;;(?<uri>.*))").exec(a.slice(e).join(""))||{groups:{}};if(void 0!==t.code){const e=Number.parseFloat(t.code);n=39===e?void 0:e}else void 0!==t.uri&&(o=0===t.uri.length?void 0:t.uri)}const r=ut.codes.get(Number(n));"\n"===a[e+1]?(o&&(i+=ct("")),n&&r&&(i+=at(r))):"\n"===t&&(n&&r&&(i+=at(n)),o&&(i+=ct(o)))}return i};const Dt=n.terminalWidth()||80,dt=(e,t,r)=>{const n=et(e).length+1;var o,i;return`${e} ${(r.singleLine?t:(o=Dt-n,String(t).normalize().replace(/\r\n/g,"\n").split("\n").map((e=>pt(e,o,i))).join("\n"))).split("\n").join(`\n${" ".repeat(n)}`)}`};let ft=!1;function ht(e){ft=e}function mt(e,t={}){ft||console.warn(dt(Qe.bgCyan.black("[  INFO ]"),e,t))}function gt(e,t={}){ft||console.warn(dt(Qe.bgYellow.black("[  WARN ]"),e,t))}function bt(e,t={}){console.error(dt(Qe.bgRed.white("[ ERROR ]"),e,t))}var vt={exports:{}},yt={exports:{}},Ct={exports:{}},Ft=kt;kt.sync=function(e,t){return wt(Et.statSync(e),e,t)};var Et=M.default;function wt(e,t,r){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,r)}function kt(e,t,r){Et.stat(e,(function(n,o){r(n,!n&&wt(o,e,t))}))}var xt=St;St.sync=function(e,t){return It(Bt.statSync(e),t)};var At,Bt=M.default;function St(e,t,r){Bt.stat(e,(function(e,n){r(e,!e&&It(n,t))}))}function It(e,t){return e.isFile()&&function(e,t){var r=e.mode,n=e.uid,o=e.gid,i=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),u=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),a=parseInt("010",8),c=parseInt("001",8),l=s|a;return r&c||r&a&&o===u||r&s&&n===i||r&l&&0===i}(e,t)}At="win32"===process.platform||ee.TESTING_WINDOWS?Ft:xt;var Pt=jt;function jt(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(r,n){jt(e,t||{},(function(e,t){e?n(e):r(t)}))}))}At(e,t||{},(function(e,n){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,n=!1),r(e,n)}))}jt.sync=function(e,t){try{return At.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const Ot="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,Mt=_.default,_t=Ot?";":":",Tt=Pt,Nt=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Lt=(e,t)=>{const r=t.colon||_t,n=e.match(/\//)||Ot&&e.match(/\\/)?[""]:[...Ot?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=Ot?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=Ot?o.split(r):[""];return Ot&&-1!==e.indexOf(".")&&""!==i[0]&&i.unshift(""),{pathEnv:n,pathExt:i,pathExtExe:o}},Rt=(e,t,r)=>{"function"==typeof t&&(r=t,t={}),t||(t={});const{pathEnv:n,pathExt:o,pathExtExe:i}=Lt(e,t),u=[],s=r=>new Promise(((o,i)=>{if(r===n.length)return t.all&&u.length?o(u):i(Nt(e));const s=n[r],c=/^".*"$/.test(s)?s.slice(1,-1):s,l=Mt.join(c,e),p=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;o(a(p,r,0))})),a=(e,r,n)=>new Promise(((c,l)=>{if(n===o.length)return c(s(r+1));const p=o[n];Tt(e+p,{pathExt:i},((o,i)=>{if(!o&&i){if(!t.all)return c(e+p);u.push(e+p)}return c(a(e,r,n+1))}))}));return r?s(0).then((e=>r(null,e)),r):s(0)};var zt=Rt;Rt.sync=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:n,pathExtExe:o}=Lt(e,t),i=[];for(let u=0;u<r.length;u++){const s=r[u],a=/^".*"$/.test(s)?s.slice(1,-1):s,c=Mt.join(a,e),l=!a&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let e=0;e<n.length;e++){const r=l+n[e];try{if(Tt.sync(r,{pathExt:o})){if(!t.all)return r;i.push(r)}}catch(e){}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw Nt(e)};var Ut={exports:{}};const Gt=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};Ut.exports=Gt,Ut.exports.default=Gt;const $t=_.default,Ht=zt,Zt=Ut.exports;function Wt(e,t){const r=e.options.env||process.env,n=process.cwd(),o=null!=e.options.cwd,i=o&&void 0!==process.chdir&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch(e){}let u;try{u=Ht.sync(e.command,{path:r[Zt({env:r})],pathExt:t?$t.delimiter:void 0})}catch(e){}finally{i&&process.chdir(n)}return u&&(u=$t.resolve(o?e.options.cwd:"",u)),u}var qt=function(e){return Wt(e)||Wt(e,!0)},Yt={};const Vt=/([()\][%!^"`<>&|;, *?])/g;Yt.command=function(e){return e=e.replace(Vt,"^$1")},Yt.argument=function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(Vt,"^$1"),t&&(e=e.replace(Vt,"^$1")),e};const Jt=/^#!(.*)/;const Xt=M.default,Kt=(e="")=>{const t=e.match(Jt);if(!t)return null;const[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return"env"===o?n:n?`${o} ${n}`:o};var Qt=function(e){const t=Buffer.alloc(150);let r;try{r=Xt.openSync(e,"r"),Xt.readSync(r,t,0,150,0),Xt.closeSync(r)}catch(e){}return Kt(t.toString())};const er=_.default,tr=qt,rr=Yt,nr=Qt,or="win32"===process.platform,ir=/\.(?:com|exe)$/i,ur=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function sr(e){if(!or)return e;const t=function(e){e.file=tr(e);const t=e.file&&nr(e.file);return t?(e.args.unshift(e.file),e.command=t,tr(e)):e.file}(e),r=!ir.test(t);if(e.options.forceShell||r){const r=ur.test(t);e.command=er.normalize(e.command),e.command=rr.command(e.command),e.args=e.args.map((e=>rr.argument(e,r)));const n=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${n}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}var ar=function(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null);const n={command:e,args:t=t?t.slice(0):[],options:r=Object.assign({},r),file:void 0,original:{command:e,args:t}};return r.shell?n:sr(n)};const cr="win32"===process.platform;function lr(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function pr(e,t){return cr&&1===e&&!t.file?lr(t.original,"spawn"):null}var Dr={hookChildProcess:function(e,t){if(!cr)return;const r=e.emit;e.emit=function(n,o){if("exit"===n){const n=pr(o,t);if(n)return r.call(e,"error",n)}return r.apply(e,arguments)}},verifyENOENT:pr,verifyENOENTSync:function(e,t){return cr&&1===e&&!t.file?lr(t.original,"spawnSync"):null},notFoundError:lr};const dr=T.default,fr=ar,hr=Dr;function mr(e,t,r){const n=fr(e,t,r),o=dr.spawn(n.command,n.args,n.options);return hr.hookChildProcess(o,n),o}Ct.exports=mr,Ct.exports.spawn=mr,Ct.exports.sync=function(e,t,r){const n=fr(e,t,r),o=dr.spawnSync(n.command,n.args,n.options);return o.error=o.error||hr.verifyENOENTSync(o.status,n),o},Ct.exports._parse=fr,Ct.exports._enoent=hr;var gr={exports:{}},br={exports:{}};const vr=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};br.exports=vr,br.exports.default=vr,function(e){const t=_.default,r=br.exports,n=e=>{let n;e={cwd:process.cwd(),path:process.env[r()],execPath:process.execPath,...e};let o=t.resolve(e.cwd);const i=[];for(;n!==o;)i.push(t.join(o,"node_modules/.bin")),n=o,o=t.resolve(o,"..");const u=t.resolve(e.cwd,e.execPath,"..");return i.push(u),i.concat(e.path).join(t.delimiter)};e.exports=n,e.exports.default=n,e.exports.env=t=>{const n={...(t={env:process.env,...t}).env},o=r({env:n});return t.path=n[o],n[o]=e.exports(t),n}}(gr);var yr={exports:{}},Cr={exports:{}};const Fr=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Cr.exports=Fr,Cr.exports.default=Fr;const Er=Cr.exports,wr=new WeakMap,kr=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let r,n=0;const o=e.displayName||e.name||"<anonymous>",i=function(...u){if(wr.set(i,++n),1===n)r=e.apply(this,u),e=null;else if(!0===t.throw)throw new Error(`Function \`${o}\` can only be called once`);return r};return Er(i,e),wr.set(i,n),i};yr.exports=kr,yr.exports.default=kr,yr.exports.callCount=e=>{if(!wr.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return wr.get(e)};var xr={},Ar={},Br={};Object.defineProperty(Br,"__esModule",{value:!0}),Br.SIGNALS=void 0;Br.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.SIGRTMAX=Sr.getRealtimeSignals=void 0;Sr.getRealtimeSignals=function(){const e=jr-Pr+1;return Array.from({length:e},Ir)};const Ir=function(e,t){return{name:`SIGRT${t+1}`,number:Pr+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Pr=34,jr=64;Sr.SIGRTMAX=jr,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.getSignals=void 0;var Or=P.default,Mr=Br,_r=Sr;Ar.getSignals=function(){const e=(0,_r.getRealtimeSignals)();return[...Mr.SIGNALS,...e].map(Tr)};const Tr=function({name:e,number:t,description:r,action:n,forced:o=!1,standard:i}){const{signals:{[e]:u}}=Or.constants,s=void 0!==u;return{name:e,number:s?u:t,description:r,supported:s,action:n,forced:o,standard:i}};Object.defineProperty(xr,"__esModule",{value:!0}),xr.signalsByNumber=xr.signalsByName=void 0;var Nr=P.default,Lr=Ar,Rr=Sr;const zr=function(e,{name:t,number:r,description:n,supported:o,action:i,forced:u,standard:s}){return{...e,[t]:{name:t,number:r,description:n,supported:o,action:i,forced:u,standard:s}}},Ur=(0,Lr.getSignals)().reduce(zr,{});xr.signalsByName=Ur;const Gr=function(e,t){const r=$r(e,t);if(void 0===r)return{};const{name:n,description:o,supported:i,action:u,forced:s,standard:a}=r;return{[e]:{name:n,number:e,description:o,supported:i,action:u,forced:s,standard:a}}},$r=function(e,t){const r=t.find((({name:t})=>Nr.constants.signals[t]===e));return void 0!==r?r:t.find((t=>t.number===e))},Hr=function(){const e=(0,Lr.getSignals)(),t=Rr.SIGRTMAX+1,r=Array.from({length:t},((t,r)=>Gr(r,e)));return Object.assign({},...r)}();xr.signalsByNumber=Hr;const{signalsByName:Zr}=xr;var Wr=({stdout:e,stderr:t,all:r,error:n,signal:o,exitCode:i,command:u,timedOut:s,isCanceled:a,killed:c,parsed:{options:{timeout:l}}})=>{i=null===i?void 0:i;const p=void 0===(o=null===o?void 0:o)?void 0:Zr[o].description,D=`Command ${(({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:o,exitCode:i,isCanceled:u})=>e?`timed out after ${t} milliseconds`:u?"was canceled":void 0!==r?`failed with ${r}`:void 0!==n?`was killed with ${n} (${o})`:void 0!==i?`failed with exit code ${i}`:"failed")({timedOut:s,timeout:l,errorCode:n&&n.code,signal:o,signalDescription:p,exitCode:i,isCanceled:a})}: ${u}`,d="[object Error]"===Object.prototype.toString.call(n),f=d?`${D}\n${n.message}`:D,h=[f,t,e].filter(Boolean).join("\n");return d?(n.originalMessage=n.message,n.message=h):n=new Error(h),n.shortMessage=f,n.command=u,n.exitCode=i,n.signal=o,n.signalDescription=p,n.stdout=e,n.stderr=t,void 0!==r&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(s),n.isCanceled=a,n.killed=c&&!s,n},qr={exports:{}};const Yr=["stdin","stdout","stderr"],Vr=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return Yr.map((t=>e[t]));if((e=>Yr.some((t=>void 0!==e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Yr.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,Yr.length);return Array.from({length:r},((e,r)=>t[r]))};qr.exports=Vr,qr.exports.node=e=>{const t=Vr(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var Jr,Xr={exports:{}},Kr={exports:{}};(Jr=Kr).exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&Jr.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&Jr.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");var Qr,en=N.default,tn=Kr.exports,rn=/^win/i.test(process.platform),nn=L.default;function on(){an&&(an=!1,tn.forEach((function(e){try{process.removeListener(e,sn[e])}catch(e){}})),process.emit=Dn,process.reallyExit=ln,Qr.count-=1)}function un(e,t,r){Qr.emitted[e]||(Qr.emitted[e]=!0,Qr.emit(e,t,r))}"function"!=typeof nn&&(nn=nn.EventEmitter),process.__signal_exit_emitter__?Qr=process.__signal_exit_emitter__:((Qr=process.__signal_exit_emitter__=new nn).count=0,Qr.emitted={}),Qr.infinite||(Qr.setMaxListeners(1/0),Qr.infinite=!0),Xr.exports=function(e,t){en.equal(typeof e,"function","a callback must be provided for exit handler"),!1===an&&cn();var r="exit";t&&t.alwaysLast&&(r="afterexit");return Qr.on(r,e),function(){Qr.removeListener(r,e),0===Qr.listeners("exit").length&&0===Qr.listeners("afterexit").length&&on()}},Xr.exports.unload=on;var sn={};tn.forEach((function(e){sn[e]=function(){process.listeners(e).length===Qr.count&&(on(),un("exit",null,e),un("afterexit",null,e),rn&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),Xr.exports.signals=function(){return tn},Xr.exports.load=cn;var an=!1;function cn(){an||(an=!0,Qr.count+=1,tn=tn.filter((function(e){try{return process.on(e,sn[e]),!0}catch(e){return!1}})),process.emit=dn,process.reallyExit=pn)}var ln=process.reallyExit;function pn(e){process.exitCode=e||0,un("exit",process.exitCode,null),un("afterexit",process.exitCode,null),ln.call(process,process.exitCode)}var Dn=process.emit;function dn(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=Dn.apply(this,arguments);return un("exit",process.exitCode,null),un("afterexit",process.exitCode,null),r}return Dn.apply(this,arguments)}const fn=P.default,hn=Xr.exports,mn=(e,t,r,n)=>{if(!gn(t,r,n))return;const o=vn(r),i=setTimeout((()=>{e("SIGKILL")}),o);i.unref&&i.unref()},gn=(e,{forceKillAfterTimeout:t},r)=>bn(e)&&!1!==t&&r,bn=e=>e===fn.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),vn=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e};var yn={spawnedKill:(e,t="SIGTERM",r={})=>{const n=e(t);return mn(e,t,r,n),n},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(0===t||void 0===t)return n;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let o;const i=new Promise(((n,i)=>{o=setTimeout((()=>{((e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,r,i)}),t)})),u=n.finally((()=>{clearTimeout(o)}));return Promise.race([i,u])},setExitHandler:async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const o=hn((()=>{e.kill()}));return n.finally((()=>{o()}))}};const Cn=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;Cn.writable=e=>Cn(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,Cn.readable=e=>Cn(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,Cn.duplex=e=>Cn.writable(e)&&Cn.readable(e),Cn.transform=e=>Cn.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState;var Fn=Cn,En={exports:{}},wn={exports:{}};var kn=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(e){n[e]=o[e]})),n}};function xn(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function An(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}wn.exports=kn(xn),wn.exports.strict=kn(An),xn.proto=xn((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return xn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return An(this)},configurable:!0})}));var Bn=wn.exports,Sn=function(){},In=function(e,t,r){if("function"==typeof t)return In(e,null,t);t||(t={}),r=Bn(r||Sn);var n=e._writableState,o=e._readableState,i=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,s=!1,a=function(){e.writable||c()},c=function(){u=!1,i||r.call(e)},l=function(){i=!1,u||r.call(e)},p=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},D=function(t){r.call(e,t)},d=function(){process.nextTick(f)},f=function(){if(!s)return(!i||o&&o.ended&&!o.destroyed)&&(!u||n&&n.ended&&!n.destroyed)?void 0:r.call(e,new Error("premature close"))},h=function(){e.req.on("finish",c)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?u&&!n&&(e.on("end",a),e.on("close",a)):(e.on("complete",c),e.on("abort",d),e.req?h():e.on("request",h)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",p),e.on("end",l),e.on("finish",c),!1!==t.error&&e.on("error",D),e.on("close",d),function(){s=!0,e.removeListener("complete",c),e.removeListener("abort",d),e.removeListener("request",h),e.req&&e.req.removeListener("finish",c),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",c),e.removeListener("exit",p),e.removeListener("end",l),e.removeListener("error",D),e.removeListener("close",d)}},Pn=In,jn=wn.exports,On=Pn,Mn=M.default,_n=function(){},Tn=/^v?\.0/.test(process.version),Nn=function(e){return"function"==typeof e},Ln=function(e,t,r,n){n=jn(n);var o=!1;e.on("close",(function(){o=!0})),On(e,{readable:t,writable:r},(function(e){if(e)return n(e);o=!0,n()}));var i=!1;return function(t){if(!o&&!i)return i=!0,function(e){return!!Tn&&!!Mn&&(e instanceof(Mn.ReadStream||_n)||e instanceof(Mn.WriteStream||_n))&&Nn(e.close)}(e)?e.close(_n):function(e){return e.setHeader&&Nn(e.abort)}(e)?e.abort():Nn(e.destroy)?e.destroy():void n(t||new Error("stream was destroyed"))}},Rn=function(e){e()},zn=function(e,t){return e.pipe(t)},Un=function(){var e,t=Array.prototype.slice.call(arguments),r=Nn(t[t.length-1]||_n)&&t.pop()||_n;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(o,i){var u=i<t.length-1;return Ln(o,u,i>0,(function(t){e||(e=t),t&&n.forEach(Rn),u||(n.forEach(Rn),r(e))}))}));return t.reduce(zn)};const{PassThrough:Gn}=z.default;const{constants:$n}=R.default,Hn=Un,Zn=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n="buffer"===r;let o=!1;t?o=!(r||n):r=r||"utf8",n&&(r=null);const i=new Gn({objectMode:o});r&&i.setEncoding(r);let u=0;const s=[];return i.on("data",(e=>{s.push(e),o?u=s.length:u+=e.length})),i.getBufferedValue=()=>t?s:n?Buffer.concat(s,u):s.join(""),i.getBufferedLength=()=>u,i};class Wn extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function qn(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:r}=t;let n;return await new Promise(((o,i)=>{const u=e=>{e&&n.getBufferedLength()<=$n.MAX_LENGTH&&(e.bufferedData=n.getBufferedValue()),i(e)};n=Hn(e,Zn(t),(e=>{e?u(e):o()})),n.on("data",(()=>{n.getBufferedLength()>r&&u(new Wn)}))})),n.getBufferedValue()}En.exports=qn,En.exports.default=qn,En.exports.buffer=(e,t)=>qn(e,{...t,encoding:"buffer"}),En.exports.array=(e,t)=>qn(e,{...t,array:!0}),En.exports.MaxBufferError=Wn;const{PassThrough:Yn}=z.default;const Vn=Fn,Jn=En.exports,Xn=function(){var e=[],t=new Yn({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",o),Array.prototype.slice.call(arguments).forEach(r),t;function r(n){return Array.isArray(n)?(n.forEach(r),this):(e.push(n),n.once("end",o.bind(null,n)),n.once("error",t.emit.bind(t,"error")),n.pipe(t,{end:!1}),this)}function n(){return 0==e.length}function o(r){!(e=e.filter((function(e){return e!==r}))).length&&t.readable&&t.end()}},Kn=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},Qn=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(e&&r)return t?Jn(e,{encoding:t,maxBuffer:n}):Jn.buffer(e,{maxBuffer:n})};var eo={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(Vn(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=Xn();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},getSpawnedResult:async({stdout:e,stderr:t,all:r},{encoding:n,buffer:o,maxBuffer:i},u)=>{const s=Qn(e,{encoding:n,buffer:o,maxBuffer:i}),a=Qn(t,{encoding:n,buffer:o,maxBuffer:i}),c=Qn(r,{encoding:n,buffer:o,maxBuffer:2*i});try{return await Promise.all([u,s,a,c])}catch(n){return Promise.all([{error:n,signal:n.signal,timedOut:n.timedOut},Kn(e,s),Kn(t,a),Kn(r,c)])}},validateInputSync:({input:e})=>{if(Vn(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}};const to=(async()=>{})().constructor.prototype,ro=["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(to,e)]));var no={mergePromise:(e,t)=>{for(const[r,n]of ro){const o="function"==typeof t?(...e)=>Reflect.apply(n.value,t(),e):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:o})}return e},getSpawnedPromise:e=>new Promise(((t,r)=>{e.on("exit",((e,r)=>{t({exitCode:e,signal:r})})),e.on("error",(e=>{r(e)})),e.stdin&&e.stdin.on("error",(e=>{r(e)}))}))};const oo=/ +/g;var io={joinCommand:(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,parseCommand:e=>{const t=[];for(const r of e.trim().split(oo)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${r}`:t.push(r)}return t}};const uo=_.default,so=T.default,ao=Ct.exports,co=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),r="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e},lo=gr.exports,po=yr.exports,Do=Wr,fo=qr.exports,{spawnedKill:ho,spawnedCancel:mo,setupTimeout:go,setExitHandler:bo}=yn,{handleInput:vo,getSpawnedResult:yo,makeAllStream:Co,validateInputSync:Fo}=eo,{mergePromise:Eo,getSpawnedPromise:wo}=no,{joinCommand:ko,parseCommand:xo}=io,Ao=(e,t,r={})=>{const n=ao._parse(e,t,r);return e=n.command,t=n.args,(r={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(r=n.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r}).env=(({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:o})=>{const i=t?{...process.env,...e}:e;return r?lo.env({env:i,cwd:n,execPath:o}):i})(r),r.stdio=fo(r),"win32"===process.platform&&"cmd"===uo.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},Bo=(e,t,r)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?co(t):t:void 0===r?void 0:"",So=(e,t,r)=>{const n=Ao(e,t,r),o=ko(e,t);let i;try{i=so.spawn(n.file,n.args,n.options)}catch(e){const t=new so.ChildProcess,r=Promise.reject(Do({error:e,stdout:"",stderr:"",all:"",command:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Eo(t,r)}const u=wo(i),s=go(i,n.options,u),a=bo(i,n.options,s),c={isCanceled:!1};i.kill=ho.bind(null,i.kill.bind(i)),i.cancel=mo.bind(null,i,c);const l=po((async()=>{const[{error:e,exitCode:t,signal:r,timedOut:u},s,l,p]=await yo(i,n.options,a),D=Bo(n.options,s),d=Bo(n.options,l),f=Bo(n.options,p);if(e||0!==t||null!==r){const s=Do({error:e,exitCode:t,signal:r,stdout:D,stderr:d,all:f,command:o,parsed:n,timedOut:u,isCanceled:c.isCanceled,killed:i.killed});if(!n.options.reject)return s;throw s}return{command:o,exitCode:0,stdout:D,stderr:d,all:f,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return ao._enoent.hookChildProcess(i,n.parsed),vo(i,n.options.input),i.all=Co(i,n.options),Eo(i,l)};yt.exports=So,yt.exports.sync=(e,t,r)=>{const n=Ao(e,t,r),o=ko(e,t);let i;Fo(n.options);try{i=so.spawnSync(n.file,n.args,n.options)}catch(e){throw Do({error:e,stdout:"",stderr:"",all:"",command:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}const u=Bo(n.options,i.stdout,i.error),s=Bo(n.options,i.stderr,i.error);if(i.error||0!==i.status||null!==i.signal){const e=Do({stdout:u,stderr:s,error:i.error,signal:i.signal,exitCode:i.status,command:o,parsed:n,timedOut:i.error&&"ETIMEDOUT"===i.error.code,isCanceled:!1,killed:null!==i.signal});if(!n.options.reject)return e;throw e}return{command:o,exitCode:0,stdout:u,stderr:s,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},yt.exports.command=(e,t)=>{const[r,...n]=xo(e);return So(r,n,t)},yt.exports.commandSync=(e,t)=>{const[r,...n]=xo(e);return So.sync(r,n,t)},yt.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(r=t,t=[]);const n=fo.node(r),o=process.execArgv.filter((e=>!e.startsWith("--inspect"))),{nodePath:i=process.execPath,nodeOptions:u=o}=r;return So(i,[...u,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})};var Io={};const Po={4:"zh_CHS",1025:"ar_SA",1026:"bg_BG",1027:"ca_ES",1028:"zh_TW",1029:"cs_CZ",1030:"da_DK",1031:"de_DE",1032:"el_GR",1033:"en_US",1034:"es_ES",1035:"fi_FI",1036:"fr_FR",1037:"he_IL",1038:"hu_HU",1039:"is_IS",1040:"it_IT",1041:"ja_JP",1042:"ko_KR",1043:"nl_NL",1044:"nb_NO",1045:"pl_PL",1046:"pt_BR",1047:"rm_CH",1048:"ro_RO",1049:"ru_RU",1050:"hr_HR",1051:"sk_SK",1052:"sq_AL",1053:"sv_SE",1054:"th_TH",1055:"tr_TR",1056:"ur_PK",1057:"id_ID",1058:"uk_UA",1059:"be_BY",1060:"sl_SI",1061:"et_EE",1062:"lv_LV",1063:"lt_LT",1064:"tg_TJ",1065:"fa_IR",1066:"vi_VN",1067:"hy_AM",1069:"eu_ES",1070:"wen_DE",1071:"mk_MK",1074:"tn_ZA",1076:"xh_ZA",1077:"zu_ZA",1078:"af_ZA",1079:"ka_GE",1080:"fo_FO",1081:"hi_IN",1082:"mt_MT",1083:"se_NO",1086:"ms_MY",1087:"kk_KZ",1088:"ky_KG",1089:"sw_KE",1090:"tk_TM",1092:"tt_RU",1093:"bn_IN",1094:"pa_IN",1095:"gu_IN",1096:"or_IN",1097:"ta_IN",1098:"te_IN",1099:"kn_IN",1100:"ml_IN",1101:"as_IN",1102:"mr_IN",1103:"sa_IN",1104:"mn_MN",1105:"bo_CN",1106:"cy_GB",1107:"kh_KH",1108:"lo_LA",1109:"my_MM",1110:"gl_ES",1111:"kok_IN",1114:"syr_SY",1115:"si_LK",1118:"am_ET",1121:"ne_NP",1122:"fy_NL",1123:"ps_AF",1124:"fil_PH",1125:"div_MV",1128:"ha_NG",1130:"yo_NG",1131:"quz_BO",1132:"ns_ZA",1133:"ba_RU",1134:"lb_LU",1135:"kl_GL",1144:"ii_CN",1146:"arn_CL",1148:"moh_CA",1150:"br_FR",1152:"ug_CN",1153:"mi_NZ",1154:"oc_FR",1155:"co_FR",1156:"gsw_FR",1157:"sah_RU",1158:"qut_GT",1159:"rw_RW",1160:"wo_SN",1164:"gbz_AF",2049:"ar_IQ",2052:"zh_CN",2055:"de_CH",2057:"en_GB",2058:"es_MX",2060:"fr_BE",2064:"it_CH",2067:"nl_BE",2068:"nn_NO",2070:"pt_PT",2077:"sv_FI",2080:"ur_IN",2092:"az_AZ",2094:"dsb_DE",2107:"se_SE",2108:"ga_IE",2110:"ms_BN",2115:"uz_UZ",2128:"mn_CN",2129:"bo_BT",2141:"iu_CA",2143:"tmz_DZ",2155:"quz_EC",3073:"ar_EG",3076:"zh_HK",3079:"de_AT",3081:"en_AU",3082:"es_ES",3084:"fr_CA",3098:"sr_SP",3131:"se_FI",3179:"quz_PE",4097:"ar_LY",4100:"zh_SG",4103:"de_LU",4105:"en_CA",4106:"es_GT",4108:"fr_CH",4122:"hr_BA",4155:"smj_NO",5121:"ar_DZ",5124:"zh_MO",5127:"de_LI",5129:"en_NZ",5130:"es_CR",5132:"fr_LU",5179:"smj_SE",6145:"ar_MA",6153:"en_IE",6154:"es_PA",6156:"fr_MC",6203:"sma_NO",7169:"ar_TN",7177:"en_ZA",7178:"es_DO",7194:"sr_BA",7227:"sma_SE",8193:"ar_OM",8201:"en_JA",8202:"es_VE",8218:"bs_BA",8251:"sms_FI",9217:"ar_YE",9225:"en_CB",9226:"es_CO",9275:"smn_FI",10241:"ar_SY",10249:"en_BZ",10250:"es_PE",11265:"ar_JO",11273:"en_TT",11274:"es_AR",12289:"ar_LB",12297:"en_ZW",12298:"es_EC",13313:"ar_KW",13321:"en_PH",13322:"es_CL",14337:"ar_AE",14346:"es_UR",15361:"ar_BH",15370:"es_PY",16385:"ar_QA",16394:"es_BO",17417:"en_MY",17418:"es_SV",18441:"en_IN",18442:"es_HN",19466:"es_NI",20490:"es_PR",21514:"es_US",31748:"zh_CHT"},jo=(e=>{if("object"!=typeof e||null===e)throw new TypeError("Expected an object");const t={};for(const[r,n]of Object.entries(e))t[n]=r;for(const r of Object.getOwnPropertySymbols(e)){t[e[r]]=r}return t})(Po);Io.from=e=>{if("number"!=typeof e)throw new TypeError("Expected a number");return Po[e]},Io.to=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");if(jo[e])return Number(jo[e])},Io.all=new Proxy(jo,{get(e,t){const r=e[t];if(r)return Number(r)}});var Oo={exports:{}},Mo={exports:{}};const _o=e=>e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch;Mo.exports=_o,Mo.exports.default=_o;var To={exports:{}},No=()=>{const e={};return e.promise=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),e};!function(e,t){var r=ee&&ee.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function u(e){try{a(n.next(e))}catch(e){i(e)}}function s(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(u,s)}a((n=n.apply(e,t||[])).next())}))},n=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(No);function i(e,t="maxAge"){let n,i,u;const s=()=>r(this,void 0,void 0,(function*(){if(void 0!==n)return;const s=s=>r(this,void 0,void 0,(function*(){u=o.default();const r=s[1][t]-Date.now();return r<=0?(e.delete(s[0]),void u.resolve()):(n=s[0],i=setTimeout((()=>{e.delete(s[0]),u&&u.resolve()}),r),"function"==typeof i.unref&&i.unref(),u.promise)}));try{for(const t of e)yield s(t)}catch(e){}n=void 0})),a=e.set.bind(e);return e.set=(t,r)=>{e.has(t)&&e.delete(t);const o=a(t,r);return n&&n===t&&(n=void 0,void 0!==i&&(clearTimeout(i),i=void 0),void 0!==u&&(u.reject(void 0),u=void 0)),s(),o},s(),e}t.default=i,e.exports=i,e.exports.default=i}(To,To.exports);const Lo=Cr.exports,Ro=Mo.exports,zo=To.exports,Uo=new WeakMap,Go=(...e)=>{if(0===e.length)return"__defaultKey";if(1===e.length){const[t]=e;if(!("object"==typeof t&&null!==t))return t}return JSON.stringify(e)};Oo.exports=(e,{cacheKey:t=Go,cache:r=new Map,cachePromiseRejection:n=!0,maxAge:o}={})=>{"number"==typeof o&&zo(r);const i=function(...i){const u=t(...i);if(r.has(u))return r.get(u).data;const s=e.apply(this,i);return r.set(u,{data:s,maxAge:o?Date.now()+o:1/0}),Ro(s)&&!1===n&&s.catch((()=>r.delete(u))),s};try{Lo(i,e)}catch(e){}return Uo.set(i,r),i},Oo.exports.clear=e=>{const t=Uo.get(e);t&&"function"==typeof t.clear&&t.clear()};const $o=yt.exports,Ho=Io,Zo=Oo.exports,Wo={spawn:!0};async function qo(e,t){return(await $o(e,t)).stdout}function Yo(e,t){return $o.sync(e,t).stdout}function Vo(e=process.env){return e.LC_ALL||e.LC_MESSAGES||e.LANG||e.LANGUAGE}function Jo(e){return Vo(e.split("\n").reduce(((e,t)=>{const[r,n]=t.split("=");return e[r]=n.replace(/^"|"$/g,""),e}),{}))}function Xo(e){return e&&e.replace(/[.:].*/,"")}async function Ko(){return qo("locale",["-a"])}function Qo(e,t=""){return t.includes(e)?e:"en-US"}function ei(){return Qo(Yo("defaults",["read","-globalDomain","AppleLocale"]),Yo("locale",["-a"]))}function ti(e){return e.replace(/_/,"-")}const ri=Zo((async(e=Wo)=>{let t;try{const r=Vo();t=r||!1===e.spawn?Xo(r):"win32"===process.platform?await async function(){const e=await qo("wmic",["os","get","locale"]),t=parseInt(e.replace("Locale",""),16);return Ho.from(t)}():"darwin"===process.platform?await async function(){const e=await Promise.all([qo("defaults",["read","-globalDomain","AppleLocale"]),Ko()]);return Qo(e[0],e[1])}():await async function(){return Xo(Jo(await qo("locale")))}()}catch(e){}return ti(t||"en-US")}),{cachePromiseRejection:!1});vt.exports=ri,vt.exports.sync=Zo(((e=Wo)=>{let t;try{const r=Vo();t=r||!1===e.spawn?Xo(r):"win32"===process.platform?function(){const e=Yo("wmic",["os","get","locale"]),t=parseInt(e.replace("Locale",""),16);return Ho.from(t)}():"darwin"===process.platform?ei():Xo(Jo(Yo("locale")))}catch(e){}return ti(t||"en-US")}));var ni=vt.exports;const oi=Symbol();function ii(e){const{marpit:t}=e;e.core.ruler.push("marp_cli_info",(e=>{var r;if(e.inlineMode)return;const{themeSet:n,lastGlobalDirectives:o}=t,i=o||{},u=i.theme||(n.default||{}).name,s={theme:u,description:i.marpCLIDescription,image:i.marpCLIImage,title:i.marpCLITitle,url:i.marpCLIURL,size:{height:n.getThemeProp(u,"heightPixel"),width:n.getThemeProp(u,"widthPixel")},length:0};for(const t of e.tokens)1===(null===(r=t.meta)||void 0===r?void 0:r.marpitSlideElement)&&(s.length+=1);t[oi]=s}))}function ui({marpit:e}){Object.assign(e.customDirectives.global,{description:e=>"string"==typeof e?{marpCLIDescription:e}:{},image:e=>"string"==typeof e?{marpCLIImage:e}:{},title:e=>"string"==typeof e?{marpCLITitle:e}:{},url:e=>{try{e&&new d.URL(e)}catch(t){return gt(`Specified canonical URL is ignored since invalid URL: ${e}`),{}}return{marpCLIURL:e}}})}class CLIError extends Error{constructor(e,t=1){super(),this.name="CLIError",this.message=e,this.errorCode=t}toString(){return this.message}}var si;function ai(e,t=exports.b.GENERAL_ERROR){throw new CLIError(e,t)}exports.b=void 0,(si=exports.b||(exports.b={}))[si.GENERAL_ERROR=1]="GENERAL_ERROR",si[si.NOT_FOUND_CHROMIUM=2]="NOT_FOUND_CHROMIUM",si[si.LISTEN_PORT_IS_ALREADY_USED=3]="LISTEN_PORT_IS_ALREADY_USED",si[si.CANNOT_SPAWN_SNAP_CHROMIUM=4]="CANNOT_SPAWN_SNAP_CHROMIUM";const{stdin:ci}=process;async function li(){let e="";if(ci.isTTY)return e;ci.setEncoding("utf8");for await(const t of ci)e+=t;return e}li.buffer=async()=>{const e=[];let t=0;if(ci.isTTY)return Buffer.concat([]);for await(const r of ci)e.push(r),t+=r.length;return Buffer.concat(e,t)};const pi=f.promisify(m.tmpName),Di=["md","mdown","markdown","markdn"];var di;!function(e){e[e.File=0]="File",e[e.StandardIO=1]="StandardIO",e[e.Null=2]="Null"}(di||(di={}));class fi{constructor(e){this.type=di.File,this.path=e}get absolutePath(){return _.default.resolve(this.path)}get absoluteFileScheme(){return U.pathToFileURL(this.absolutePath).toString()}convert(e,t){switch(e){case void 0:return fi.initialize(this.convertName(t),(e=>e.type=this.type));case!1:return fi.initialize(this.path,(e=>e.type=di.Null));case"-":return fi.initialize("-",(e=>e.type=di.StandardIO))}return this.inputDir?fi.initialize(this.convertName(Object.assign(Object.assign({},t),{basePath:_.default.join(e,this.relativePath(this.inputDir))}))):fi.initialize(this.convertName(Object.assign(Object.assign({},t),{extension:void 0,basePath:e})))}load(){return Q(this,void 0,void 0,(function*(){return this.buffer=this.buffer||(yield M.default.promises.readFile(this.path)),this.buffer}))}relativePath(e=process.cwd()){return _.default.relative(e,this.absolutePath)}save(){return Q(this,void 0,void 0,(function*(){switch(this.type){case di.File:yield this.saveToFile();break;case di.StandardIO:process.stdout.write(this.buffer)}}))}saveTmpFile(e={}){return Q(this,void 0,void 0,(function*(){let t=yield pi({postfix:e.extension});return e.home&&(t=_.default.join(P.default.homedir(),_.default.basename(t))),yield this.saveToFile(t),{cleanup:()=>Q(this,void 0,void 0,(function*(){try{yield this.cleanup(t)}catch(e){}})),path:t}}))}cleanup(e){return M.default.promises.unlink(e)}convertName(e={}){const{basePath:t,extension:r,page:n}=Object.assign({basePath:this.path},e);let o=t;if(void 0!==r&&(o=_.default.join(_.default.dirname(t),`${_.default.basename(t,_.default.extname(t))}.${r}`)),void 0!==n){const e=_.default.extname(o),t=n.toString().padStart(3,"0");o=_.default.join(_.default.dirname(o),`${_.default.basename(o,e)}.${t}${e}`)}return o}saveToFile(e=this.path){return Q(this,void 0,void 0,(function*(){yield M.default.promises.mkdir(_.default.dirname(_.default.resolve(e)),{recursive:!0}),yield M.default.promises.writeFile(e,this.buffer)}))}static findPath(e,...t){return Q(this,void 0,void 0,(function*(){const r=new Set,n=[],o=[];for(const e of t){try{const t=yield M.default.promises.stat(e);if(t.isFile()){r.add(_.default.resolve(e));continue}if(t.isDirectory()){o.push(_.default.resolve(e));continue}}catch(e){}n.push(e.split(_.default.sep).join("/"))}const i=Object.assign({absolute:!0,ignore:["**/node_modules"]},e);(yield H.default(n,i)).forEach((e=>r.add(e)));for(const e of o)(yield H.default(".",Object.assign({cwd:e},i))).forEach((e=>r.add(e)));return[...r.values()].map((e=>_.default.normalize(e)))}))}static find(...e){return Q(this,void 0,void 0,(function*(){return(yield this.findPath({expandDirectories:{extensions:[],files:Di.map((e=>`*.${e}`))}},...e)).map((e=>new fi(e)))}))}static findDir(e){return Q(this,void 0,void 0,(function*(){const t=yield this.find(e);return t.forEach((t=>t.inputDir=_.default.resolve(e))),t}))}static stdin(){return Q(this,void 0,void 0,(function*(){if(this.stdinBuffer=this.stdinBuffer||(yield li.buffer()),0!==this.stdinBuffer.length)return this.initialize("-",(e=>{e.buffer=this.stdinBuffer,e.type=di.StandardIO}))}))}static initialize(e,t){const r=new this(e);return null==t||t(r),r}}var hi={},mi=Object.prototype.hasOwnProperty;function gi(e,t){return Array.isArray(e)?function(e,t){for(var r,n="",o="",i=Array.isArray(t),u=0;u<e.length;u++)(r=gi(e[u]))&&(i&&t[u]&&(r=Ci(r)),n=n+o+r,o=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t="",r="";for(var n in e)n&&e[n]&&mi.call(e,n)&&(t=t+r+n,r=" ");return t}(e):e||""}function bi(e){if(!e)return"";if("object"==typeof e){var t="";for(var r in e)mi.call(e,r)&&(t=t+r+":"+e[r]+";");return t}return e+""}function vi(e,t,r,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');var o=typeof t;return"object"!==o&&"function"!==o||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),r||-1===t.indexOf('"'))?(r&&(t=Ci(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}hi.merge=function e(t,r){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=e(n,t[o]);return n}for(var i in r)if("class"===i){var u=t[i]||[];t[i]=(Array.isArray(u)?u:[u]).concat(r[i]||[])}else if("style"===i){u=(u=bi(t[i]))&&";"!==u[u.length-1]?u+";":u;var s=bi(r[i]);s=s&&";"!==s[s.length-1]?s+";":s,t[i]=u+s}else t[i]=r[i];return t},hi.classes=gi,hi.style=bi,hi.attr=vi,hi.attrs=function(e,t){var r="";for(var n in e)if(mi.call(e,n)){var o=e[n];if("class"===n){o=gi(o),r=vi(n,o,!1,t)+r;continue}"style"===n&&(o=bi(o)),r+=vi(n,o,!1,t)}return r};var yi=/["&<>]/;function Ci(e){var t=""+e,r=yi.exec(t);if(!r)return e;var n,o,i,u="";for(n=r.index,o=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==n&&(u+=t.substring(o,n)),o=n+1,u+=i}return o!==n?u+t.substring(o,n):u}function Fi(e){var t,r,n="";try{var o={},i=e||{};(function(e,r,o,i,u,s,a,c,l,p){n=(n+="<!DOCTYPE html>")+"<html"+hi.attr("lang",a,!0,!0)+">",n+="<head>",r&&(n=n+"<base"+hi.attr("href",r,!0,!0)+">"),c&&(n=(n=(n+="<title>")+hi.escape(null==(t=c)?"":t)+"</title>")+'<meta property="og:title"'+hi.attr("content",c,!0,!0)+">",s&&(n=n+'<meta property="og:image:alt"'+hi.attr("content",c,!0,!0)+">")),i&&(n=(n=n+'<meta name="description"'+hi.attr("content",i,!0,!0)+">")+'<meta property="og:description"'+hi.attr("content",i,!0,!0)+">"),l&&(n=(n=n+'<link rel="canonical"'+hi.attr("href",l,!0,!0)+">")+'<meta property="og:url"'+hi.attr("content",l,!0,!0)+">"),s&&(n=n+'<meta property="og:image"'+hi.attr("content",s,!0,!0)+">"),n+='<meta charset="UTF-8">',n+='<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">',n+='<meta name="apple-mobile-web-app-capable" content="yes">',n+='<meta http-equiv="X-UA-Compatible" content="ie=edge">',n=(n+='<meta property="og:type" content="website">')+'<meta name="twitter:card"'+hi.attr("content",c&&s?"summary_large_image":"summary",!0,!0)+">",n=(n+='<style media="screen">')+(null==(t=e.css)?"":t)+"</style>",n=(n+="<style>")+(null==(t=o)?"":t)+"</style></head>",n+="<body>",n+=null==(t=u)?"":t,p&&(n=(n+="<script>")+(null==(t=p)?"":t)+"<\/script>"),n+="</body></html>"}).call(this,"bare"in i?i.bare:"undefined"!=typeof bare?bare:void 0,"base"in i?i.base:"undefined"!=typeof base?base:void 0,"css"in i?i.css:"undefined"!=typeof css?css:void 0,"description"in i?i.description:"undefined"!=typeof description?description:void 0,"html"in i?i.html:"undefined"!=typeof html?html:void 0,"image"in i?i.image:"undefined"!=typeof image?image:void 0,"lang"in i?i.lang:"undefined"!=typeof lang?lang:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0,"url"in i?i.url:"undefined"!=typeof url?url:void 0,"watchJs"in i?i.watchJs:"undefined"!=typeof watchJs?watchJs:void 0)}catch(e){hi.rethrow(e,r,undefined,o[void 0])}return n}hi.escape=Ci,hi.rethrow=function e(t,r,n,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&r||o))throw t.message+=" on line "+n,t;var i,u,s,a;try{o=o||M.default.readFileSync(r,{encoding:"utf8"}),i=3,u=o.split("\n"),s=Math.max(n-i,0),a=Math.min(u.length,n+i)}catch(o){return t.message+=" - could not read from "+r+" ("+o.message+")",void e(t,null,n)}i=u.slice(s,a).map((function(e,t){var r=t+s+1;return(r==n?"  > ":"    ")+r+"| "+e})).join("\n"),t.path=r;try{t.message=(r||"Pug")+":"+n+"\n"+i+"\n\n"+t.message}catch(e){}throw t};function Ei(e){var t,r,n="";try{var o={},i=e||{};(function(e,r,o,i,u,s,a,c,l,p,D){n=(n+="<!DOCTYPE html>")+"<html"+hi.attr("lang",c,!0,!0)+">",n+="<head>",e&&(n=n+"<base"+hi.attr("href",e,!0,!0)+">"),l&&(n=(n=(n+="<title>")+hi.escape(null==(t=l)?"":t)+"</title>")+'<meta property="og:title"'+hi.attr("content",l,!0,!0)+">",a&&(n=n+'<meta property="og:image:alt"'+hi.attr("content",l,!0,!0)+">")),u&&(n=(n=n+'<meta name="description"'+hi.attr("content",u,!0,!0)+">")+'<meta property="og:description"'+hi.attr("content",u,!0,!0)+">"),p&&(n=(n=n+'<link rel="canonical"'+hi.attr("href",p,!0,!0)+">")+'<meta property="og:url"'+hi.attr("content",p,!0,!0)+">"),a&&(n=n+'<meta property="og:image"'+hi.attr("content",a,!0,!0)+">"),n+='<meta charset="UTF-8">',n+='<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">',n+='<meta name="apple-mobile-web-app-capable" content="yes">',n+='<meta http-equiv="X-UA-Compatible" content="ie=edge">',n=(n+='<meta property="og:type" content="website">')+'<meta name="twitter:card"'+hi.attr("content",l&&a?"summary_large_image":"summary",!0,!0)+">",n=(n+="<style>")+(null==(t=r.css)?"":t)+"</style>",n=(n+="<style>")+(null==(t=i)?"":t)+"</style></head>",n+="<body>",r.progress&&(n+='<div class="bespoke-progress-parent">',n+='<div class="bespoke-progress-bar"></div></div>'),r.osc&&(n+='<div class="bespoke-marp-osc">',n+='<button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">',n+="Previous slide</button>",n+='<span data-bespoke-marp-osc="page"></span>',n+='<button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">',n+="Next slide</button>",n+='<button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">',n+="Toggle fullscreen</button>",n+='<button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">',n+="Open presenter view</button></div>"),n+=null==(t=s)?"":t,o&&o.length>0&&function(){var e=o;if("number"==typeof e.length)for(var r=0,i=e.length;r<i;r++){(u=e[r])&&u.length>0&&(n=n+'<div class="bespoke-marp-note"'+hi.attr("data-index",r,!0,!0)+' tabindex="0">',function(){var e=u;if("number"==typeof e.length)for(var r=0,o=e.length;r<o;r++){var i=e[r];n=(n+="<p>")+hi.escape(null==(t=i)?"":t)+"</p>"}else{o=0;for(var r in e){o++;i=e[r];n=(n+="<p>")+hi.escape(null==(t=i)?"":t)+"</p>"}}}.call(this),n+="</div>")}else{i=0;for(var r in e){var u;i++,(u=e[r])&&u.length>0&&(n=n+'<div class="bespoke-marp-note"'+hi.attr("data-index",r,!0,!0)+' tabindex="0">',function(){var e=u;if("number"==typeof e.length)for(var r=0,o=e.length;r<o;r++){var i=e[r];n=(n+="<p>")+hi.escape(null==(t=i)?"":t)+"</p>"}else{o=0;for(var r in e){o++;i=e[r];n=(n+="<p>")+hi.escape(null==(t=i)?"":t)+"</p>"}}}.call(this),n+="</div>")}}}.call(this),n=(n+="<script>")+(null==(t=r.js)?"":t)+"<\/script>",D&&(n=(n+="<script>")+(null==(t=D)?"":t)+"<\/script>"),n+="</body></html>"}).call(this,"base"in i?i.base:"undefined"!=typeof base?base:void 0,"bespoke"in i?i.bespoke:"undefined"!=typeof bespoke?bespoke:void 0,"comments"in i?i.comments:"undefined"!=typeof comments?comments:void 0,"css"in i?i.css:"undefined"!=typeof css?css:void 0,"description"in i?i.description:"undefined"!=typeof description?description:void 0,"html"in i?i.html:"undefined"!=typeof html?html:void 0,"image"in i?i.image:"undefined"!=typeof image?image:void 0,"lang"in i?i.lang:"undefined"!=typeof lang?lang:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0,"url"in i?i.url:"undefined"!=typeof url?url:void 0,"watchJs"in i?i.watchJs:"undefined"!=typeof watchJs?watchJs:void 0)}catch(e){hi.rethrow(e,r,undefined,o[void 0])}return n}const wi=e=>Q(void 0,void 0,void 0,(function*(){const t=e.renderer({container:[],inlineSVG:!0,slideContainer:[]});return{rendered:t,result:Fi(Object.assign(Object.assign(Object.assign({},e),t),{bare:{css:"body,html{-ms-scroll-snap-points-y:repeat(100%);scroll-snap-points-y:repeat(100%);background:#000;height:100%;margin:0;overflow:auto;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;-ms-scroll-snap-type:mandatory;scroll-snap-type:mandatory}body>svg{scroll-snap-align:center center;display:block;height:100%;width:100%}"},watchJs:yield Ai(e.notifyWS)}))}}));Object.defineProperty(wi,"printable",{value:!0});const ki=e=>Q(void 0,void 0,void 0,(function*(){var t;const r=e.renderer({container:new g.Element("div",{id:"p"}),inlineSVG:!0,slideContainer:[]});return{rendered:r,result:Ei(Object.assign(Object.assign(Object.assign({},e),r),{bespoke:{css:'@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTQwIDcwSDIwVjUwbTIwIDBMMjAgNzBtNDAtNDBoMjB2MjBtLTIwIDAgMjAtMjAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwIDUwaDIwdjIwbS0yMCAwIDIwLTIwbTQwIDBINjBWMzBtMjAgMEw2MCA1MCIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS13aWR0aDo1cHh9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yMCA2MGgtNWE1IDUgMCAwIDEtNS01VjIwYTUgNSAwIDAgMSA1LTVoNjBhNSA1IDAgMCAxIDUgNXY1TTMwIDg1aDYwIi8+PHJlY3QgeD0iMzAiIHk9IjM1IiB3aWR0aD0iNjAiIGhlaWdodD0iNDAiIHJ4PSI1IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiLz48cmVjdCBjbGFzcz0iYSIgeD0iMzAiIHk9IjM1IiB3aWR0aD0iNjAiIGhlaWdodD0iNDAiIHJ4PSI1Ii8+PHBhdGggY2xhc3M9ImEiIGQ9Ik00MCA1MGg0ME00MCA2MGgzMCIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{-webkit-animation-name:__bespoke_marp__!important;animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{bottom:0;left:0;position:absolute;right:0;top:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template-areas:"current next" "current note" "info    note";grid-template-columns:2fr 1fr;grid-template-rows:minmax(140px,1fr) 2fr 3em;height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{word-wrap:break-word;scrollbar-width:thin;scrollbar-color:hsla(0,0%,93.3%,.5) transparent;box-sizing:border-box;font-size:1.1em;height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;white-space:pre-wrap;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93.3%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}',js:yield xi("bespoke.js"),osc:null===(t=e.osc)||void 0===t||t,progress:e.progress},watchJs:yield Ai(e.notifyWS)}))}}));function xi(e){return Q(this,void 0,void 0,(function*(){return(yield M.default.promises.readFile(_.default.resolve(__dirname,e))).toString()}))}function Ai(e){return Q(this,void 0,void 0,(function*(){if(void 0===e)return!1;const t=yield xi("watch.js");return`window.__marpCliWatchWS=${JSON.stringify(e)};${t}`}))}Object.defineProperty(ki,"printable",{value:!1});var Bi={bare:wi,bespoke:ki};let Si;const Ii=e=>Q(void 0,void 0,void 0,(function*(){return yield new Promise(((t,r)=>{a.execFile("wslpath",["-m",e],((e,n)=>e?r(e):t(n.trim())))}))})),Pi=e=>a.spawnSync("wslpath",["-u",e]).stdout.toString().trim(),ji=()=>{if(void 0===Si)if(require("is-wsl")){Si=1;try{o.readFileSync("/proc/sys/kernel/osrelease").toString().includes("WSL2")&&(Si=2)}catch(e){}}else Si=0;return Si},Oi=e=>!(!ji()||!(null==e?void 0:e.match(/^\/mnt\/[a-z]\//))),Mi=e=>e.find((e=>{try{return o.accessSync(e,o.constants.X_OK),!0}catch(e){}return!1})),_i=()=>{if(ji()){const e=(e=>{const t=a.spawnSync("cmd.exe",["/c","SET",e]).stdout.toString().trim();return t.startsWith(`${e}=`)?t.slice(e.length+1):void 0})("LOCALAPPDATA");return Ti({programFiles:"/mnt/c/Program Files",programFilesX86:"/mnt/c/Program Files (x86)",localAppData:e?Pi(e):""})}return Mi(["/opt/microsoft/msedge-canary/msedge","/opt/microsoft/msedge-dev/msedge","/opt/microsoft/msedge-beta/msedge","/opt/microsoft/msedge/msedge"])},Ti=({programFiles:e=process.env.PROGRAMFILES,programFilesX86:t=process.env["PROGRAMFILES(X86)"],localAppData:r=process.env.LOCALAPPDATA}={})=>{const n=[r,e,t].filter((e=>!!e));return Mi([_.default.join("Microsoft","Edge SxS","Application","msedge.exe"),_.default.join("Microsoft","Edge Dev","Application","msedge.exe"),_.default.join("Microsoft","Edge Beta","Application","msedge.exe"),_.default.join("Microsoft","Edge","Application","msedge.exe")].reduce(((e,t)=>[...e,...n.map((e=>_.default.join(e,t)))]),[]))},Ni=()=>"linux"===process.platform?_i():"darwin"===process.platform?Mi(["/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary","/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev","/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta","/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge"]):"win32"===process.platform?Ti():void 0;let Li,Ri=!1;const zi=e=>!("linux"!==process.platform||!(null==e?void 0:e.startsWith("/snap/"))),Ui=(e,{wslHost:t}={})=>Q(void 0,void 0,void 0,(function*(){return ji()&&t&&(void 0===Li&&(Li=yield(r="TMP",Q(void 0,void 0,void 0,(function*(){const e=yield new Promise(((e,t)=>{a.execFile("cmd.exe",["/c","SET",r],((r,n)=>r?t(r):e(n.trim())))}));return e.startsWith(`${r}=`)?e.slice(r.length+1):void 0})))),void 0!==Li)?_.default.win32.resolve(Li,e):_.default.resolve(P.default.tmpdir(),e);var r})),Gi=()=>{const e=new Set(["--export-tagged-pdf"]);if((process.env.IS_DOCKER||ji())&&e.add("--no-sandbox"),(process.env.IS_DOCKER||process.env.CI)&&e.add("--disable-features=VizDisplayCompositor"),!1===Ri){if(process.env.IS_DOCKER)Ri="/usr/bin/chromium-browser";else try{Ri=b.Launcher.getFirstInstallation()}catch(e){e instanceof Error&&gt(e.message)}Ri||(Ri=Ni(),Ri||ai("You have to install Google Chrome, Chromium, or Microsoft Edge to convert slide deck with current options.",exports.b.NOT_FOUND_CHROMIUM))}return{executablePath:Ri,args:[...e],pipe:!(ji()||zi(Ri)),ignoreDefaultArgs:process.env.CHROME_ENABLE_EXTENSIONS?["--disable-extensions"]:void 0}},$i=(...[e])=>Q(void 0,void 0,void 0,(function*(){try{return yield Z.default.launch(e)}catch(t){throw t instanceof Error&&(null==e?void 0:e.executablePath)&&zi(e.executablePath)&&/^need to run as root or suid$/im.test(t.message)&&ai("Marp CLI has detected trying to spawn Chromium browser installed by snap, from the confined environment like another snap app. At least either of Chrome/Chromium or the shell environment must be non snap app.",exports.b.CANNOT_SPAWN_SNAP_CHROMIUM),t}}));var Hi={},Zi={exports:{}};!function(e,t){!function(t){function r(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),o=0;o<r;o++)n[o]=e[t+o];return n}var n=function(e){var t=r(arguments,1);return function(){var n=r(arguments);return e.apply(null,t.concat(n))}},o=function(e){return function(){var t=r(arguments),n=t.pop();e.call(this,t,n)}};function i(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var u="function"==typeof setImmediate&&setImmediate,s="object"==typeof process&&"function"==typeof process.nextTick;function a(e){setTimeout(e,0)}function c(e){return function(t){var n=r(arguments,1);e((function(){t.apply(null,n)}))}}var l=c(u?setImmediate:s?process.nextTick:a);function p(e){return o((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}i(n)&&"function"==typeof n.then?n.then((function(e){D(r,null,e)}),(function(e){D(r,e.message?e:new Error(e))})):r(null,n)}))}function D(e,t,r){try{e(t,r)}catch(e){l(d,e)}}function d(e){throw e}var f="function"==typeof Symbol;function h(e){return f&&"AsyncFunction"===e[Symbol.toStringTag]}function m(e){return h(e)?p(e):e}function g(e){return function(t){var n=r(arguments,1),i=o((function(r,n){var o=this;return e(t,(function(e,t){m(e).apply(o,r.concat(t))}),n)}));return n.length?i.apply(this,n):i}}var b="object"==typeof ee&&ee&&ee.Object===Object&&ee,v="object"==typeof self&&self&&self.Object===Object&&self,y=b||v||Function("return this")(),C=y.Symbol,F=Object.prototype,E=F.hasOwnProperty,w=F.toString,k=C?C.toStringTag:void 0;function x(e){var t=E.call(e,k),r=e[k];try{e[k]=void 0;var n=!0}catch(e){}var o=w.call(e);return n&&(t?e[k]=r:delete e[k]),o}var A=Object.prototype.toString;function B(e){return A.call(e)}var S="[object Null]",I="[object Undefined]",P=C?C.toStringTag:void 0;function j(e){return null==e?void 0===e?I:S:P&&P in Object(e)?x(e):B(e)}var O="[object AsyncFunction]",M="[object Function]",_="[object GeneratorFunction]",T="[object Proxy]";function N(e){if(!i(e))return!1;var t=j(e);return t==M||t==_||t==O||t==T}var L=9007199254740991;function R(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function z(e){return null!=e&&R(e.length)&&!N(e)}var U={};function G(){}function $(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var H="function"==typeof Symbol&&Symbol.iterator,Z=function(e){return H&&e[H]&&e[H]()};function W(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function q(e){return null!=e&&"object"==typeof e}var Y="[object Arguments]";function V(e){return q(e)&&j(e)==Y}var J=Object.prototype,X=J.hasOwnProperty,K=J.propertyIsEnumerable,Q=V(function(){return arguments}())?V:function(e){return q(e)&&X.call(e,"callee")&&!K.call(e,"callee")},te=Array.isArray;function re(){return!1}var ne="object"==typeof t&&t&&!t.nodeType&&t,oe=ne&&e&&!e.nodeType&&e,ie=oe&&oe.exports===ne?y.Buffer:void 0,ue=(ie?ie.isBuffer:void 0)||re,se=9007199254740991,ae=/^(?:0|[1-9]\d*)$/;function ce(e,t){var r=typeof e;return!!(t=null==t?se:t)&&("number"==r||"symbol"!=r&&ae.test(e))&&e>-1&&e%1==0&&e<t}var le="[object Arguments]",pe="[object Array]",De="[object Boolean]",de="[object Date]",fe="[object Error]",he="[object Function]",me="[object Map]",ge="[object Number]",be="[object Object]",ve="[object RegExp]",ye="[object Set]",Ce="[object String]",Fe="[object WeakMap]",Ee="[object ArrayBuffer]",we="[object DataView]",ke="[object Float64Array]",xe="[object Int8Array]",Ae="[object Int16Array]",Be="[object Int32Array]",Se="[object Uint8Array]",Ie="[object Uint8ClampedArray]",Pe="[object Uint16Array]",je="[object Uint32Array]",Oe={};function Me(e){return q(e)&&R(e.length)&&!!Oe[j(e)]}function _e(e){return function(t){return e(t)}}Oe["[object Float32Array]"]=Oe[ke]=Oe[xe]=Oe[Ae]=Oe[Be]=Oe[Se]=Oe[Ie]=Oe[Pe]=Oe[je]=!0,Oe[le]=Oe[pe]=Oe[Ee]=Oe[De]=Oe[we]=Oe[de]=Oe[fe]=Oe[he]=Oe[me]=Oe[ge]=Oe[be]=Oe[ve]=Oe[ye]=Oe[Ce]=Oe[Fe]=!1;var Te="object"==typeof t&&t&&!t.nodeType&&t,Ne=Te&&e&&!e.nodeType&&e,Le=Ne&&Ne.exports===Te&&b.process,Re=function(){try{var e=Ne&&Ne.require&&Ne.require("util").types;return e||Le&&Le.binding&&Le.binding("util")}catch(e){}}(),ze=Re&&Re.isTypedArray,Ue=ze?_e(ze):Me,Ge=Object.prototype.hasOwnProperty;function $e(e,t){var r=te(e),n=!r&&Q(e),o=!r&&!n&&ue(e),i=!r&&!n&&!o&&Ue(e),u=r||n||o||i,s=u?W(e.length,String):[],a=s.length;for(var c in e)!t&&!Ge.call(e,c)||u&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ce(c,a))||s.push(c);return s}var He=Object.prototype;function Ze(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||He)}function We(e,t){return function(r){return e(t(r))}}var qe=We(Object.keys,Object),Ye=Object.prototype.hasOwnProperty;function Ve(e){if(!Ze(e))return qe(e);var t=[];for(var r in Object(e))Ye.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Je(e){return z(e)?$e(e):Ve(e)}function Xe(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}function Ke(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}function Qe(e){var t=Je(e),r=-1,n=t.length;return function(){var o=t[++r];return r<n?{value:e[o],key:o}:null}}function et(e){if(z(e))return Xe(e);var t=Z(e);return t?Ke(t):Qe(e)}function tt(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function rt(e){return function(t,r,n){if(n=$(n||G),e<=0||!t)return n(null);var o=et(t),i=!1,u=0,s=!1;function a(e,t){if(u-=1,e)i=!0,n(e);else{if(t===U||i&&u<=0)return i=!0,n(null);s||c()}}function c(){for(s=!0;u<e&&!i;){var t=o();if(null===t)return i=!0,void(u<=0&&n(null));u+=1,r(t.value,t.key,tt(a))}s=!1}c()}}function nt(e,t,r,n){rt(t)(e,m(r),n)}function ot(e,t){return function(r,n,o){return e(r,t,n,o)}}function it(e,t,r){r=$(r||G);var n=0,o=0,i=e.length;function u(e,t){e?r(e):++o!==i&&t!==U||r(null)}for(0===i&&r(null);n<i;n++)t(e[n],n,tt(u))}var ut=ot(nt,1/0),st=function(e,t,r){(z(e)?it:ut)(e,m(t),r)};function at(e){return function(t,r,n){return e(st,t,m(r),n)}}function ct(e,t,r,n){n=n||G,t=t||[];var o=[],i=0,u=m(r);e(t,(function(e,t,r){var n=i++;u(e,(function(e,t){o[n]=t,r(e)}))}),(function(e){n(e,o)}))}var lt=at(ct),pt=g(lt);function Dt(e){return function(t,r,n,o){return e(rt(r),t,m(n),o)}}var dt=Dt(ct),ft=ot(dt,1),ht=g(ft);function mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function gt(e){return function(t,r,n){for(var o=-1,i=Object(t),u=n(t),s=u.length;s--;){var a=u[e?s:++o];if(!1===r(i[a],a,i))break}return t}}var bt=gt();function vt(e,t){return e&&bt(e,t,Je)}function yt(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ct(e){return e!=e}function Ft(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function Et(e,t,r){return t==t?Ft(e,t,r):yt(e,Ct,r)}var wt=function(e,t,n){"function"==typeof t&&(n=t,t=null),n=$(n||G);var o=Je(e).length;if(!o)return n(null);t||(t=o);var i={},u=0,s=!1,a=Object.create(null),c=[],l=[],p={};function D(e,t){c.push((function(){g(e,t)}))}function d(){if(0===c.length&&0===u)return n(null,i);for(;c.length&&u<t;)c.shift()()}function f(e,t){var r=a[e];r||(r=a[e]=[]),r.push(t)}function h(e){mt(a[e]||[],(function(e){e()})),d()}function g(e,t){if(!s){var o=tt((function(t,o){if(u--,arguments.length>2&&(o=r(arguments,1)),t){var c={};vt(i,(function(e,t){c[t]=e})),c[e]=o,s=!0,a=Object.create(null),n(t,c)}else i[e]=o,h(e)}));u++;var c=m(t[t.length-1]);t.length>1?c(i,o):c(o)}}function b(){for(var e=0;l.length;)e++,mt(v(l.pop()),(function(e){0==--p[e]&&l.push(e)}));if(e!==o)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function v(t){var r=[];return vt(e,(function(e,n){te(e)&&Et(e,t,0)>=0&&r.push(n)})),r}vt(e,(function(t,r){if(!te(t))return D(r,[t]),void l.push(r);var n=t.slice(0,t.length-1),o=n.length;if(0===o)return D(r,t),void l.push(r);p[r]=o,mt(n,(function(i){if(!e[i])throw new Error("async.auto task `"+r+"` has a non-existent dependency `"+i+"` in "+n.join(", "));f(i,(function(){0==--o&&D(r,t)}))}))})),b(),d()};function kt(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var xt="[object Symbol]";function At(e){return"symbol"==typeof e||q(e)&&j(e)==xt}var Bt=1/0,St=C?C.prototype:void 0,It=St?St.toString:void 0;function Pt(e){if("string"==typeof e)return e;if(te(e))return kt(e,Pt)+"";if(At(e))return It?It.call(e):"";var t=e+"";return"0"==t&&1/e==-Bt?"-0":t}function jt(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}function Ot(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:jt(e,t,r)}function Mt(e,t){for(var r=e.length;r--&&Et(t,e[r],0)>-1;);return r}function _t(e,t){for(var r=-1,n=e.length;++r<n&&Et(t,e[r],0)>-1;);return r}function Tt(e){return e.split("")}var Nt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Lt(e){return Nt.test(e)}var Rt="\\ud800-\\udfff",zt="["+Rt+"]",Ut="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Gt="\\ud83c[\\udffb-\\udfff]",$t="[^"+Rt+"]",Ht="(?:\\ud83c[\\udde6-\\uddff]){2}",Zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="(?:"+Ut+"|"+Gt+")?",qt="[\\ufe0e\\ufe0f]?",Yt="(?:\\u200d(?:"+[$t,Ht,Zt].join("|")+")"+qt+Wt+")*",Vt=qt+Wt+Yt,Jt="(?:"+[$t+Ut+"?",Ut,Ht,Zt,zt].join("|")+")",Xt=RegExp(Gt+"(?="+Gt+")|"+Jt+Vt,"g");function Kt(e){return e.match(Xt)||[]}function Qt(e){return Lt(e)?Kt(e):Tt(e)}function er(e){return null==e?"":Pt(e)}var tr=/^\s+|\s+$/g;function rr(e,t,r){if((e=er(e))&&(r||void 0===t))return e.replace(tr,"");if(!e||!(t=Pt(t)))return e;var n=Qt(e),o=Qt(t);return Ot(n,_t(n,o),Mt(n,o)+1).join("")}var nr=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,or=/,/,ir=/(=.+)?(\s*)$/,ur=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function sr(e){return e=(e=(e=(e=e.toString().replace(ur,"")).match(nr)[2].replace(" ",""))?e.split(or):[]).map((function(e){return rr(e.replace(ir,""))}))}function ar(e,t){var r={};vt(e,(function(e,t){var n,o=h(e),i=!o&&1===e.length||o&&0===e.length;if(te(e))n=e.slice(0,-1),e=e[e.length-1],r[t]=n.concat(n.length>0?u:e);else if(i)r[t]=e;else{if(n=sr(e),0===e.length&&!o&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");o||n.pop(),r[t]=n.concat(u)}function u(t,r){var o=kt(n,(function(e){return t[e]}));o.push(r),m(e).apply(null,o)}})),wt(r,t)}function cr(){this.head=this.tail=null,this.length=0}function lr(e,t){e.length=1,e.head=e.tail=t}function pr(e,t,r){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=m(e),o=0,i=[],u=!1;function s(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(p.started=!0,te(e)||(e=[e]),0===e.length&&p.idle())return l((function(){p.drain()}));for(var n=0,o=e.length;n<o;n++){var i={data:e[n],callback:r||G};t?p._tasks.unshift(i):p._tasks.push(i)}u||(u=!0,l((function(){u=!1,p.process()})))}function a(e){return function(t){o-=1;for(var r=0,n=e.length;r<n;r++){var u=e[r],s=Et(i,u,0);0===s?i.shift():s>0&&i.splice(s,1),u.callback.apply(u,arguments),null!=t&&p.error(t,u.data)}o<=p.concurrency-p.buffer&&p.unsaturated(),p.idle()&&p.drain(),p.process()}}var c=!1,p={_tasks:new cr,concurrency:t,payload:r,saturated:G,unsaturated:G,buffer:t/4,empty:G,drain:G,error:G,started:!1,paused:!1,push:function(e,t){s(e,!1,t)},kill:function(){p.drain=G,p._tasks.empty()},unshift:function(e,t){s(e,!0,t)},remove:function(e){p._tasks.remove(e)},process:function(){if(!c){for(c=!0;!p.paused&&o<p.concurrency&&p._tasks.length;){var e=[],t=[],r=p._tasks.length;p.payload&&(r=Math.min(r,p.payload));for(var u=0;u<r;u++){var s=p._tasks.shift();e.push(s),i.push(s),t.push(s.data)}o+=1,0===p._tasks.length&&p.empty(),o===p.concurrency&&p.saturated();var l=tt(a(e));n(t,l)}c=!1}},length:function(){return p._tasks.length},running:function(){return o},workersList:function(){return i},idle:function(){return p._tasks.length+o===0},pause:function(){p.paused=!0},resume:function(){!1!==p.paused&&(p.paused=!1,l(p.process))}};return p}function Dr(e,t){return pr(e,1,t)}cr.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},cr.prototype.empty=function(){for(;this.head;)this.shift();return this},cr.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},cr.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},cr.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):lr(this,e)},cr.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):lr(this,e)},cr.prototype.shift=function(){return this.head&&this.removeLink(this.head)},cr.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},cr.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,r=0;r<this.length;r++)e[r]=t.data,t=t.next;return e},cr.prototype.remove=function(e){for(var t=this.head;t;){var r=t.next;e(t)&&this.removeLink(t),t=r}return this};var dr=ot(nt,1);function fr(e,t,r,n){n=$(n||G);var o=m(r);dr(e,(function(e,r,n){o(t,e,(function(e,r){t=r,n(e)}))}),(function(e){n(e,t)}))}function hr(){var e=kt(arguments,m);return function(){var t=r(arguments),n=this,o=t[t.length-1];"function"==typeof o?t.pop():o=G,fr(e,t,(function(e,t,o){t.apply(n,e.concat((function(e){var t=r(arguments,1);o(e,t)})))}),(function(e,t){o.apply(n,[e].concat(t))}))}}var mr=function(){return hr.apply(null,r(arguments).reverse())},gr=Array.prototype.concat,br=function(e,t,n,o){o=o||G;var i=m(n);dt(e,t,(function(e,t){i(e,(function(e){return e?t(e):t(null,r(arguments,1))}))}),(function(e,t){for(var r=[],n=0;n<t.length;n++)t[n]&&(r=gr.apply(r,t[n]));return o(e,r)}))},vr=ot(br,1/0),yr=ot(br,1),Cr=function(){var e=r(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function Fr(e){return e}function Er(e,t){return function(r,n,o,i){i=i||G;var u,s=!1;r(n,(function(r,n,i){o(r,(function(n,o){n?i(n):e(o)&&!u?(s=!0,u=t(!0,r),i(null,U)):i()}))}),(function(e){e?i(e):i(null,s?u:t(!1))}))}}function wr(e,t){return t}var kr=at(Er(Fr,wr)),xr=Dt(Er(Fr,wr)),Ar=ot(xr,1);function Br(e){return function(t){var n=r(arguments,1);n.push((function(t){var n=r(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&mt(n,(function(t){console[e](t)})))})),m(t).apply(null,n)}}var Sr=Br("dir");function Ir(e,t,n){n=tt(n||G);var o=m(e),i=m(t);function u(e){if(e)return n(e);var t=r(arguments,1);t.push(s),i.apply(this,t)}function s(e,t){return e?n(e):t?void o(u):n(null)}s(null,!0)}function Pr(e,t,n){n=tt(n||G);var o=m(e),i=function(e){if(e)return n(e);var u=r(arguments,1);if(t.apply(this,u))return o(i);n.apply(null,[null].concat(u))};o(i)}function jr(e,t,r){Pr(e,(function(){return!t.apply(this,arguments)}),r)}function Or(e,t,r){r=tt(r||G);var n=m(t),o=m(e);function i(e){if(e)return r(e);o(u)}function u(e,t){return e?r(e):t?void n(i):r(null)}o(u)}function Mr(e){return function(t,r,n){return e(t,n)}}function _r(e,t,r){st(e,Mr(m(t)),r)}function Tr(e,t,r,n){rt(t)(e,Mr(m(r)),n)}var Nr=ot(Tr,1);function Lr(e){return h(e)?e:o((function(t,r){var n=!0;t.push((function(){var e=arguments;n?l((function(){r.apply(null,e)})):r.apply(null,e)})),e.apply(this,t),n=!1}))}function Rr(e){return!e}var zr=at(Er(Rr,Rr)),Ur=Dt(Er(Rr,Rr)),Gr=ot(Ur,1);function $r(e){return function(t){return null==t?void 0:t[e]}}function Hr(e,t,r,n){var o=new Array(t.length);e(t,(function(e,t,n){r(e,(function(e,r){o[t]=!!r,n(e)}))}),(function(e){if(e)return n(e);for(var r=[],i=0;i<t.length;i++)o[i]&&r.push(t[i]);n(null,r)}))}function Zr(e,t,r,n){var o=[];e(t,(function(e,t,n){r(e,(function(r,i){r?n(r):(i&&o.push({index:t,value:e}),n())}))}),(function(e){e?n(e):n(null,kt(o.sort((function(e,t){return e.index-t.index})),$r("value")))}))}function Wr(e,t,r,n){(z(t)?Hr:Zr)(e,t,m(r),n||G)}var qr=at(Wr),Yr=Dt(Wr),Vr=ot(Yr,1);function Jr(e,t){var r=tt(t||G),n=m(Lr(e));function o(e){if(e)return r(e);n(o)}o()}var Xr=function(e,t,r,n){n=n||G;var o=m(r);dt(e,t,(function(e,t){o(e,(function(r,n){return r?t(r):t(null,{key:n,val:e})}))}),(function(e,t){for(var r={},o=Object.prototype.hasOwnProperty,i=0;i<t.length;i++)if(t[i]){var u=t[i].key,s=t[i].val;o.call(r,u)?r[u].push(s):r[u]=[s]}return n(e,r)}))},Kr=ot(Xr,1/0),Qr=ot(Xr,1),en=Br("log");function tn(e,t,r,n){n=$(n||G);var o={},i=m(r);nt(e,t,(function(e,t,r){i(e,t,(function(e,n){if(e)return r(e);o[t]=n,r()}))}),(function(e){n(e,o)}))}var rn=ot(tn,1/0),nn=ot(tn,1);function on(e,t){return t in e}function un(e,t){var n=Object.create(null),i=Object.create(null);t=t||Fr;var u=m(e),s=o((function(e,o){var s=t.apply(null,e);on(n,s)?l((function(){o.apply(null,n[s])})):on(i,s)?i[s].push(o):(i[s]=[o],u.apply(null,e.concat((function(){var e=r(arguments);n[s]=e;var t=i[s];delete i[s];for(var o=0,u=t.length;o<u;o++)t[o].apply(null,e)}))))}));return s.memo=n,s.unmemoized=e,s}var sn=c(s?process.nextTick:u?setImmediate:a);function an(e,t,n){n=n||G;var o=z(t)?[]:{};e(t,(function(e,t,n){m(e)((function(e,i){arguments.length>2&&(i=r(arguments,1)),o[t]=i,n(e)}))}),(function(e){n(e,o)}))}function cn(e,t){an(st,e,t)}function ln(e,t,r){an(rt(t),e,r)}var pn=function(e,t){var r=m(e);return pr((function(e,t){r(e[0],t)}),t,1)},Dn=function(e,t){var r=pn(e,t);return r.push=function(e,t,n){if(null==n&&(n=G),"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,te(e)||(e=[e]),0===e.length)return l((function(){r.drain()}));t=t||0;for(var o=r._tasks.head;o&&t>=o.priority;)o=o.next;for(var i=0,u=e.length;i<u;i++){var s={data:e[i],priority:t,callback:n};o?r._tasks.insertBefore(o,s):r._tasks.push(s)}l(r.process)},delete r.unshift,r};function dn(e,t){if(t=$(t||G),!te(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)m(e[r])(t)}function fn(e,t,n,o){fr(r(e).reverse(),t,n,o)}function hn(e){var t=m(e);return o((function(e,n){return e.push((function(e,t){var o;e?n(null,{error:e}):(o=arguments.length<=2?t:r(arguments,1),n(null,{value:o}))})),t.apply(this,e)}))}function mn(e){var t;return te(e)?t=kt(e,hn):(t={},vt(e,(function(e,r){t[r]=hn.call(this,e)}))),t}function gn(e,t,r,n){Wr(e,t,(function(e,t){r(e,(function(e,r){t(e,!r)}))}),n)}var bn=at(gn),vn=Dt(gn),yn=ot(vn,1);function Cn(e){return function(){return e}}function Fn(e,t,r){var n=5,o=0,i={times:n,intervalFunc:Cn(o)};function u(e,t){if("object"==typeof t)e.times=+t.times||n,e.intervalFunc="function"==typeof t.interval?t.interval:Cn(+t.interval||o),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||n}}if(arguments.length<3&&"function"==typeof e?(r=t||G,t=e):(u(i,e),r=r||G),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var s=m(t),a=1;function c(){s((function(e){e&&a++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(e))?setTimeout(c,i.intervalFunc(a)):r.apply(null,arguments)}))}c()}var En=function(e,t){t||(t=e,e=null);var r=m(t);return o((function(t,n){function o(e){r.apply(null,t.concat(e))}e?Fn(e,o,n):Fn(o,n)}))};function wn(e,t){an(dr,e,t)}var kn=at(Er(Boolean,Fr)),xn=Dt(Er(Boolean,Fr)),An=ot(xn,1);function Bn(e,t,r){var n=m(t);function o(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}lt(e,(function(e,t){n(e,(function(r,n){if(r)return t(r);t(null,{value:e,criteria:n})}))}),(function(e,t){if(e)return r(e);r(null,kt(t.sort(o),$r("value")))}))}function Sn(e,t,r){var n=m(e);return o((function(o,i){var u,s=!1;function a(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),s=!0,i(n)}o.push((function(){s||(i.apply(null,arguments),clearTimeout(u))})),u=setTimeout(a,t),n.apply(null,o)}))}var In=Math.ceil,Pn=Math.max;function jn(e,t,r,n){for(var o=-1,i=Pn(In((t-e)/(r||1)),0),u=Array(i);i--;)u[n?i:++o]=e,e+=r;return u}function On(e,t,r,n){var o=m(r);dt(jn(0,e,1),t,o,n)}var Mn=ot(On,1/0),_n=ot(On,1);function Tn(e,t,r,n){arguments.length<=3&&(n=r,r=t,t=te(e)?[]:{}),n=$(n||G);var o=m(r);st(e,(function(e,r,n){o(t,e,r,n)}),(function(e){n(e,t)}))}function Nn(e,t){var n,o=null;t=t||G,Nr(e,(function(e,t){m(e)((function(e,i){n=arguments.length>2?r(arguments,1):i,o=e,t(!e)}))}),(function(){t(o,n)}))}function Ln(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Rn(e,t,n){n=tt(n||G);var o=m(t);if(!e())return n(null);var i=function(t){if(t)return n(t);if(e())return o(i);var u=r(arguments,1);n.apply(null,[null].concat(u))};o(i)}function zn(e,t,r){Rn((function(){return!e.apply(this,arguments)}),t,r)}var Un=function(e,t){if(t=$(t||G),!te(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function o(t){var r=m(e[n++]);t.push(tt(i)),r.apply(null,t)}function i(i){if(i||n===e.length)return t.apply(null,arguments);o(r(arguments,1))}o([])},Gn={apply:n,applyEach:pt,applyEachSeries:ht,asyncify:p,auto:wt,autoInject:ar,cargo:Dr,compose:mr,concat:vr,concatLimit:br,concatSeries:yr,constant:Cr,detect:kr,detectLimit:xr,detectSeries:Ar,dir:Sr,doDuring:Ir,doUntil:jr,doWhilst:Pr,during:Or,each:_r,eachLimit:Tr,eachOf:st,eachOfLimit:nt,eachOfSeries:dr,eachSeries:Nr,ensureAsync:Lr,every:zr,everyLimit:Ur,everySeries:Gr,filter:qr,filterLimit:Yr,filterSeries:Vr,forever:Jr,groupBy:Kr,groupByLimit:Xr,groupBySeries:Qr,log:en,map:lt,mapLimit:dt,mapSeries:ft,mapValues:rn,mapValuesLimit:tn,mapValuesSeries:nn,memoize:un,nextTick:sn,parallel:cn,parallelLimit:ln,priorityQueue:Dn,queue:pn,race:dn,reduce:fr,reduceRight:fn,reflect:hn,reflectAll:mn,reject:bn,rejectLimit:vn,rejectSeries:yn,retry:Fn,retryable:En,seq:hr,series:wn,setImmediate:l,some:kn,someLimit:xn,someSeries:An,sortBy:Bn,timeout:Sn,times:Mn,timesLimit:On,timesSeries:_n,transform:Tn,tryEach:Nn,unmemoize:Ln,until:zn,waterfall:Un,whilst:Rn,all:zr,allLimit:Ur,allSeries:Gr,any:kn,anyLimit:xn,anySeries:An,find:kr,findLimit:xr,findSeries:Ar,forEach:_r,forEachSeries:Nr,forEachLimit:Tr,forEachOf:st,forEachOfSeries:dr,forEachOfLimit:nt,inject:fr,foldl:fr,foldr:fn,select:qr,selectLimit:Yr,selectSeries:Vr,wrapSync:p};t.default=Gn,t.apply=n,t.applyEach=pt,t.applyEachSeries=ht,t.asyncify=p,t.auto=wt,t.autoInject=ar,t.cargo=Dr,t.compose=mr,t.concat=vr,t.concatLimit=br,t.concatSeries=yr,t.constant=Cr,t.detect=kr,t.detectLimit=xr,t.detectSeries=Ar,t.dir=Sr,t.doDuring=Ir,t.doUntil=jr,t.doWhilst=Pr,t.during=Or,t.each=_r,t.eachLimit=Tr,t.eachOf=st,t.eachOfLimit=nt,t.eachOfSeries=dr,t.eachSeries=Nr,t.ensureAsync=Lr,t.every=zr,t.everyLimit=Ur,t.everySeries=Gr,t.filter=qr,t.filterLimit=Yr,t.filterSeries=Vr,t.forever=Jr,t.groupBy=Kr,t.groupByLimit=Xr,t.groupBySeries=Qr,t.log=en,t.map=lt,t.mapLimit=dt,t.mapSeries=ft,t.mapValues=rn,t.mapValuesLimit=tn,t.mapValuesSeries=nn,t.memoize=un,t.nextTick=sn,t.parallel=cn,t.parallelLimit=ln,t.priorityQueue=Dn,t.queue=pn,t.race=dn,t.reduce=fr,t.reduceRight=fn,t.reflect=hn,t.reflectAll=mn,t.reject=bn,t.rejectLimit=vn,t.rejectSeries=yn,t.retry=Fn,t.retryable=En,t.seq=hr,t.series=wn,t.setImmediate=l,t.some=kn,t.someLimit=xn,t.someSeries=An,t.sortBy=Bn,t.timeout=Sn,t.times=Mn,t.timesLimit=On,t.timesSeries=_n,t.transform=Tn,t.tryEach=Nn,t.unmemoize=Ln,t.until=zn,t.waterfall=Un,t.whilst=Rn,t.all=zr,t.allLimit=Ur,t.allSeries=Gr,t.any=kn,t.anyLimit=xn,t.anySeries=An,t.find=kr,t.findLimit=xr,t.findSeries=Ar,t.forEach=_r,t.forEachSeries=Nr,t.forEachLimit=Tr,t.forEachOf=st,t.forEachOfSeries=dr,t.forEachOfLimit=nt,t.inject=fr,t.foldl=fr,t.foldr=fn,t.select=qr,t.selectLimit=Yr,t.selectSeries=Vr,t.wrapSync=p,Object.defineProperty(t,"__esModule",{value:!0})}(Zi.exports)}(Zi);var Wi={exports:{}},qi={exports:{}},Yi=1e3,Vi=60*Yi,Ji=60*Vi,Xi=24*Ji,Ki=7*Xi,Qi=365.25*Xi,eu=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*Qi;case"weeks":case"week":case"w":return r*Ki;case"days":case"day":case"d":return r*Xi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ji;case"minutes":case"minute":case"mins":case"min":case"m":return r*Vi;case"seconds":case"second":case"secs":case"sec":case"s":return r*Yi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Xi)return tu(e,t,Xi,"day");if(t>=Ji)return tu(e,t,Ji,"hour");if(t>=Vi)return tu(e,t,Vi,"minute");if(t>=Yi)return tu(e,t,Yi,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Xi)return Math.round(e/Xi)+"d";if(t>=Ji)return Math.round(e/Ji)+"h";if(t>=Vi)return Math.round(e/Vi)+"m";if(t>=Yi)return Math.round(e/Yi)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function tu(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}var ru=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var i;function u(){if(u.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=u,s=Number(new Date),a=s-(i||s);o.diff=a,o.prev=i,o.curr=s,i=s,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var i=r.formatters[n];if("function"==typeof i){var u=t[c];e=i.call(o,u),t.splice(c,1),c--}return e})),r.formatArgs.call(o,t);var l=o.log||r.log;l.apply(o,t)}}return u.namespace=e,u.enabled=r.enabled(e),u.useColors=r.useColors(),u.color=t(e),u.destroy=n,u.extend=o,"function"==typeof r.init&&r.init(u),r.instances.push(u),u}function n(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=eu,Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r};!function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=ru(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(qi,qi.exports);var nu={exports:{}};!function(e,t){var r=j.default,n=$.default;t.init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return process.stderr.write(n.format.apply(n,arguments)+"\n")},t.formatArgs=function(r){var n=this.namespace;if(this.useColors){var o=this.color,i="[3"+(o<8?o:"8;5;"+o),u="  ".concat(i,";1m").concat(n," [0m");r[0]=u+r[0].split("\n").join("\n"+u),r.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{Fe&&(Fe.stderr||Fe).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=ru(t);var o=e.exports.formatters;o.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)}}(nu,nu.exports),"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?Wi.exports=qi.exports:Wi.exports=nu.exports;var ou=_.default,iu=M.default,uu=parseInt("0777",8),su=au.mkdirp=au.mkdirP=au;function au(e,t,r,n){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var o=t.mode,i=t.fs||iu;void 0===o&&(o=uu),n||(n=null);var u=r||function(){};e=ou.resolve(e),i.mkdir(e,o,(function(r){if(!r)return u(null,n=n||e);switch(r.code){case"ENOENT":if(ou.dirname(e)===e)return u(r);au(ou.dirname(e),t,(function(r,n){r?u(r,n):au(e,t,u,n)}));break;default:i.stat(e,(function(e,t){e||!t.isDirectory()?u(r,n):u(null,n)}))}}))}au.sync=function e(t,r,n){r&&"object"==typeof r||(r={mode:r});var o=r.mode,i=r.fs||iu;void 0===o&&(o=uu),n||(n=null),t=ou.resolve(t);try{i.mkdirSync(t,o),n=n||t}catch(o){switch(o.code){case"ENOENT":n=e(ou.dirname(t),r,n),e(t,r,n);break;default:var u;try{u=i.statSync(t)}catch(e){throw o}if(!u.isDirectory())throw o}}return n},function(e){var t=M.default,r=P.default,n=Y.default,o=_.default,i=Zi.exports,u=Wi.exports,s=su.mkdirp,a=u("portfinder:testPort"),c=u("portfinder:getPort"),l=u("portfinder:defaultHosts"),p={testPort:function(t,r){function o(){a("done w/ testPort(): OK",t.host,"port",t.port),t.server.removeListener("error",i),t.server.close(),r(null,t.port)}function i(n){if(a("done w/ testPort(): failed",t.host,"w/ port",t.port,"with error",n.code),t.server.removeListener("listening",o),"EADDRINUSE"!=n.code&&"EACCES"!=n.code)return r(n);var i=e.nextPort(t.port);if(i>e.highestPort)return r(new Error("No open ports available"));p.testPort({port:i,host:t.host,server:t.server},r)}r||(r=t,t={}),t.server=t.server||n.createServer((function(){})),a("entered testPort(): trying",t.host,"port",t.port),t.server.once("error",i),t.server.once("listening",o),t.host?t.server.listen(t.port,t.host):t.server.listen(t.port)}};e.basePort=8e3,e.highestPort=65535,e.basePath="/tmp/portfinder",e.getPort=function(t,r){if(r||(r=t,t={}),t.port=Number(t.port)||Number(e.basePort),t.host=t.host||null,t.stopPort=Number(t.stopPort)||Number(e.highestPort),!t.startPort){if(t.startPort=Number(t.port),t.startPort<0)throw Error("Provided options.startPort("+t.startPort+") is less than 0, which are cannot be bound.");if(t.stopPort<t.startPort)throw Error("Provided options.stopPort("+t.stopPort+"is less than options.startPort ("+t.startPort+")")}if(t.host){for(var n,o=0;o<e._defaultHosts.length;o++)if(e._defaultHosts[o]===t.host){n=!0;break}n||e._defaultHosts.push(t.host)}var u,s=[];return i.eachSeries(e._defaultHosts,(function(e,r){return c("in eachSeries() iteration callback: host is",e),p.testPort({host:e,port:t.port},(function(t,n){return t?(c("in eachSeries() iteration callback testPort() callback","with an err:",t.code),u=e,r(t)):(c("in eachSeries() iteration callback testPort() callback","with a success for port",n),s.push(n),r())}))}),(function(n){if(n){if(c("in eachSeries() result callback: err is",n),"EADDRNOTAVAIL"===n.code||"EINVAL"===n.code){if(t.host===u){var o="Provided host "+t.host+" could NOT be bound. Please provide a different host address or hostname";return r(Error(o))}var i=e._defaultHosts.indexOf(u);return e._defaultHosts.splice(i,1),e.getPort(t,r)}return r(n)}if(s.sort((function(e,t){return e-t})),c("in eachSeries() result callback: openPorts is",s),s[0]===s[s.length-1]){if(s[0]<=t.stopPort)return r(null,s[0]);o="No open ports found in between "+t.startPort+" and "+t.stopPort;return r(Error(o))}return e.getPort({port:s.pop(),host:t.host,startPort:t.startPort,stopPort:t.stopPort},r)}))},e.getPortPromise=function(t){if("function"!=typeof Promise)throw Error("Native promise support is not available in this version of node.Please install a polyfill and assign Promise to global.Promise before calling this method");return t||(t={}),new Promise((function(r,n){e.getPort(t,(function(e,t){if(e)return n(e);r(t)}))}))},e.getPorts=function(t,r,n){n||(n=r,r={});var o=null;i.timesSeries(t,(function(t,n){o&&(r.port=e.nextPort(o)),e.getPort(r,(function(e,t){e?n(e):(o=t,n(null,t))}))}),n)},e.getSocket=function(r,n){function i(){t.stat(r.path,(function(t){t?"ENOENT"==t.code?n(null,r.path):n(t):(r.path=e.nextSocket(r.path),e.getSocket(r,n))}))}return n||(n=r,r={}),r.mod=r.mod||parseInt(755,8),r.path=r.path||e.basePath+".sock",r.exists?i():(u=o.dirname(r.path),void t.stat(u,(function(e,t){if(e||!t.isDirectory())return function(e){s(e,r.mod,(function(e){if(e)return n(e);r.exists=!0,i()}))}(u);r.exists=!0,i()})));var u},e.nextPort=function(e){return e+1},e.nextSocket=function(e){var t=o.dirname(e),r=o.basename(e,".sock").match(/^([a-zA-z]+)(\d*)$/i),n=parseInt(r[2]),i=r[1];return isNaN(n)&&(n=0),n+=1,o.join(t,i+n+".sock")},e._defaultHosts=function(){var e={};try{e=r.networkInterfaces()}catch(e){if("uv_interface_addresses"!==e.syscall)throw e}for(var t=Object.keys(e),n=["0.0.0.0"],o=0;o<t.length;o++)for(var i=e[t[o]],u=0;u<i.length;u++){var s=i[u];n.push(s.address)}return n.push(null),l("exports._defaultHosts is: %o",n),n}()}(Hi);class cu{constructor(e,t){this.converter=t.converter,this.events=t.events,this.finder=t.finder,this.mode=t.mode,this.chokidar=q.default.watch(e,{disableGlobbing:!0,ignoreInitial:!0}).on("change",(e=>this.convert(e))).on("add",(e=>this.convert(e))).on("unlink",(e=>this.delete(e))),this.converter.options.themeSet.onThemeUpdated=e=>this.convert(e),pu.start()}convert(e){return Q(this,void 0,void 0,(function*(){const t=_.default.resolve(e),r=(yield this.finder()).filter((e=>_.default.resolve(e.path)===t)),n=(yield this.converter.options.themeSet.findPath()).find((e=>_.default.resolve(e)===t)),o=e=>{e.type===di.File&&pu.sendTo(e.absolutePath,"reload")};try{this.mode===cu.WatchMode.Convert?yield this.converter.convertFiles(r,{onConverted:e=>{this.events.onConverted(e),o(e.file)}}):this.mode===cu.WatchMode.Notify&&r.forEach(o)}catch(e){this.events.onError(e)}void 0!==n&&this.converter.options.themeSet.load(t)}))}delete(e){const t=_.default.resolve(e),{themeSet:r}=this.converter.options;r.unobserve(t),r.themes.delete(t)}static watch(e,t){return new cu(e,t)}}class lu{constructor(){this.listeners=new Map}port(){return Q(this,void 0,void 0,(function*(){return void 0===this.portNumber&&(this.portNumber=yield Hi.getPortPromise({port:37717})),this.portNumber}))}register(e){return Q(this,void 0,void 0,(function*(){const t=lu.sha256(e);return this.listeners.has(t)||this.listeners.set(t,new Set),`ws://localhost:${yield this.port()}/${t}`}))}sendTo(e,t){if(!this.wss)return!1;const r=this.listeners.get(lu.sha256(e));return!!r&&(r.forEach((e=>e.send(t))),!0)}start(e={}){return Q(this,void 0,void 0,(function*(){this.wss=new E.Server(Object.assign(Object.assign({},e),{port:yield this.port()})),this.wss.on("connection",((e,t)=>{if(t.url){const[,r]=t.url.split("/"),n=this.listeners.get(r);if(void 0!==n)return this.listeners.set(r,n.add(e)),e.on("close",(()=>this.listeners.get(r).delete(e))),void e.send("ready")}e.close()}))}))}stop(){void 0!==this.wss&&(this.wss.close(),this.wss=void 0)}static sha256(e){const t=W.default.createHash("sha256");return t.update(e),t.digest("hex").toString()}}const pu=new lu;var Du,du=cu.watch;!function(e){var t;(t=e.WatchMode||(e.WatchMode={}))[t.Convert=0]="Convert",t[t.Notify=1]="Notify"}(cu||(cu={})),function(e){e.html="html",e.pdf="pdf",e.png="png",e.pptx="pptx",e.jpeg="jpg"}(Du||(Du={}));const fu={[Du.html]:"text/html",[Du.pdf]:"application/pdf",[Du.png]:"image/png",[Du.pptx]:"application/vnd.openxmlformats-officedocument.presentationml.presentation",[Du.jpeg]:"image/jpeg"};class hu{constructor(e){this.options=e}get template(){const e=Bi[this.options.template];return e||ai(`Template "${this.options.template}" is not found.`),e}convert(e,t,{fallbackToPrintableTemplate:r=!1}={}){return Q(this,void 0,void 0,(function*(){const{lang:n,globalDirectives:o,type:i}=this.options,u=e=>!!e&&e.type===di.File;let s="";for(const e of Object.keys(o))void 0!==o[e]&&(s+=`\n\x3c!-- ${e}: ${JSON.stringify(o[e])} --\x3e`);let a=this.template;return r&&!a.printable&&(a=wi),yield a(Object.assign(Object.assign({},this.options.templateOption||{}),{lang:n,base:yield(e=>Q(this,void 0,void 0,(function*(){return this.options.baseUrl?this.options.baseUrl:u(e)&&i!==Du.html?Oi(Gi().executablePath)?`file:${yield Ii(e.absolutePath)}`:e.absoluteFileScheme:void 0})))(t),notifyWS:u(t)&&this.options.watch&&i===Du.html?yield pu.register(t.absolutePath):void 0,renderer:r=>{const n=this.generateEngine(r),o=n.render(`${e}${s}`),i=n[oi];return u(t)&&this.options.themeSet.observe(t.absolutePath,null==i?void 0:i.theme),Object.assign(Object.assign({},o),i)}}))}))}convertFile(e,t={}){var r;return Q(this,void 0,void 0,(function*(){let n;const o=r=>Q(this,void 0,void 0,(function*(){try{return ht(!!t.onlyScanning),yield this.convert((yield e.load()).toString(),e,{fallbackToPrintableTemplate:r})}finally{ht(!1)}}));if(!t.onlyScanning){const i=[];switch(this.options.type){case Du.pdf:n=yield o(!0),i.push(yield this.convertFileToPDF(n,e));break;case Du.png:case Du.jpeg:n=yield o(!0),i.push(...yield this.convertFileToImage(n,e,{pages:this.options.pages,quality:this.options.jpegQuality,scale:this.options.imageScale,type:this.options.type}));break;case Du.pptx:n=yield o(!0),i.push(yield this.convertFileToPPTX(n,e,{scale:null!==(r=this.options.imageScale)&&void 0!==r?r:2.5}));break;default:n=yield o(),i.push(this.convertFileToHTML(n,e))}for(const r of i)yield r.save(),t.onConverted&&t.onConverted({file:e,newFile:r,template:n});return{file:e,template:n,newFile:i[0]}}return n=yield o(),{file:e,template:n}}))}convertFiles(e,t={}){return Q(this,void 0,void 0,(function*(){const{inputDir:r,output:n}=this.options;!r&&n&&"-"!==n&&e.length>1&&ai("Output path cannot specify with processing multiple files.");for(const r of e)yield this.convertFile(r,t)}))}convertFileToHTML(e,t){const r=t.convert(this.options.output,{extension:"html"});return r.buffer=Buffer.from(e.result),r}convertFileToPDF(e,t){return Q(this,void 0,void 0,(function*(){const r=new fi(t.absolutePath);r.buffer=Buffer.from(e.result);const n=t.convert(this.options.output,{extension:"pdf"});return n.buffer=yield this.usePuppeteer(r,((e,t)=>Q(this,void 0,void 0,(function*(){return yield e.goto(t,{waitUntil:["domcontentloaded","networkidle0"]}),yield e.pdf({printBackground:!0,preferCSSPageSize:!0})})))),n}))}convertFileToImage(e,t,r){return Q(this,void 0,void 0,(function*(){const n=new fi(t.absolutePath);n.buffer=Buffer.from(e.result);const o=[];return yield this.usePuppeteer(n,((n,i)=>Q(this,void 0,void 0,(function*(){var u;yield n.setViewport(Object.assign(Object.assign({},e.rendered.size),{deviceScaleFactor:null!==(u=r.scale)&&void 0!==u?u:1})),yield n.goto(i,{waitUntil:["domcontentloaded","networkidle0"]}),yield n.emulateMediaType("print");const s=(t=1)=>Q(this,void 0,void 0,(function*(){yield n.evaluate(`window.scrollTo(0,${(t-1)*e.rendered.size.height})`);const o=Object.assign({x:0,y:(t-1)*e.rendered.size.height},e.rendered.size);return r.type===Du.jpeg?yield n.screenshot({clip:o,quality:r.quality,type:"jpeg"}):yield n.screenshot({clip:o,type:"png"})}));if(r.pages)for(let n=1;n<=e.rendered.length;n+=1){const e=t.convert(this.options.output,{page:n,extension:r.type});e.buffer=yield s(n),o.push(e)}else{const e=t.convert(this.options.output,{extension:r.type});e.buffer=yield s(),o.push(e)}})))),o}))}convertFileToPPTX(e,t,r={}){return Q(this,void 0,void 0,(function*(){const n=yield this.convertFileToImage(e,t,Object.assign(Object.assign({},r),{pages:!0,type:Du.png})),o=new((yield Promise.resolve().then((function(){return I(require("pptxgenjs"))}))).default),i=`${e.rendered.size.width}x${e.rendered.size.height}`;o.author="Created by Marp",o.company="Created by Marp",o.defineLayout({name:i,width:e.rendered.size.width/96,height:e.rendered.size.height/96}),o.layout=i,e.rendered.title&&(o.title=e.rendered.title),e.rendered.description&&(o.subject=e.rendered.description),n.forEach(((t,r)=>{const n=o.addSlide();n.background={data:`data:image/png;base64,${t.buffer.toString("base64")}`};const i=e.rendered.comments[r].join("\n\n");i&&n.addNotes(i)}));const u=t.convert(this.options.output,{extension:"pptx"});return u.buffer=yield o.write({outputType:"nodebuffer"}),u}))}generateEngine(e){const{html:t,options:r}=this.options,{prototype:n}=this.options.engine,o=Object.assign(Object.assign(Object.assign({},r),e),{html:t}),i=n&&Object.prototype.hasOwnProperty.call(n,"constructor")?new this.options.engine(o):this.options.engine(o);return"function"!=typeof i.render&&ai("Specified engine has not implemented render() method."),void 0!==t&&i.markdown.set({html:t}),i.use(ui).use(ii),this.options.themeSet.registerTo(i),i}usePuppeteer(e,t){return Q(this,void 0,void 0,(function*(){const r=yield(()=>{if(this.options.allowLocalFiles)return gt(`Insecure local file accessing is enabled for conversion from ${e.relativePath()}.`),e.saveTmpFile({home:"linux"===process.platform,extension:".html"})})();try{const n=yield hu.runBrowser(),o=yield(()=>Q(this,void 0,void 0,(function*(){var t;return r?Oi(null===(t=n.process())||void 0===t?void 0:t.spawnfile)?`file:${yield Ii(r.path)}`:`file://${r.path}`:`data:text/html;base64,${e.buffer.toString("base64")}`})))(),i=yield n.newPage(),{missingFileSet:u,failedFileSet:s}=this.trackFailedLocalFileAccess(i);try{return yield t(i,o)}finally{u.size>0&&gt(`${u.size>1?"Some of t":"T"}he local file${u.size>1?"s are":" is"} missing and will be ignored. Make sure the file path${u.size>1?"s are":" is"} correct.`),s.size>0&&gt(`Marp CLI has detected accessing to local file${s.size>1?"s":""}. ${s.size>1?"They are":"That is"} blocked by security reason. Instead we recommend using assets uploaded to online. (Or you can use ${Qe.yellow("--allow-local-files")} option if you are understood of security risk)`),yield i.close()}}finally{r&&(yield r.cleanup())}}))}trackFailedLocalFileAccess(e){const t=new Set,r=new Set;return e.on("requestfailed",(e=>{var n;try{const o=new d.URL(e.url());"file:"===o.protocol&&("net::ERR_FILE_NOT_FOUND"===(null===(n=e.failure())||void 0===n?void 0:n.errorText)?t.add(o.href):r.add(o.href))}catch(e){}})),{missingFileSet:t,failedFileSet:r}}static closeBrowser(){return Q(this,void 0,void 0,(function*(){hu.browser&&(yield hu.browser.close())}))}static runBrowser(){return Q(this,void 0,void 0,(function*(){if(!hu.browser){const e=Gi();hu.browser=yield $i(Object.assign(Object.assign({},e),{userDataDir:yield Ui("marp-cli-conversion",{wslHost:Oi(e.executablePath)})})),hu.browser.once("disconnected",(()=>{hu.browser=void 0}))}return hu.browser}))}}var mu={exports:{}},gu={exports:{}},bu={exports:{}},vu={exports:{}};const yu=M.default;vu.exports=e=>new Promise((t=>{yu.access(e,(e=>{t(!e)}))})),vu.exports.sync=e=>{try{return yu.accessSync(e),!0}catch(e){return!1}};var Cu={exports:{}},Fu={exports:{}};const Eu=(e,...t)=>new Promise((r=>{r(e(...t))}));Fu.exports=Eu,Fu.exports.default=Eu;const wu=Fu.exports,ku=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},o=(e,t,...o)=>{r++;const i=wu(e,...o);t(i),i.then(n,n)},i=(n,...i)=>new Promise((u=>((n,i,...u)=>{r<e?o(n,i,...u):t.push(o.bind(null,n,i,...u))})(n,u,...i)));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),i};Cu.exports=ku,Cu.exports.default=ku;const xu=Cu.exports;class Au extends Error{constructor(e){super(),this.value=e}}const Bu=(e,t)=>Promise.resolve(e).then(t),Su=e=>Promise.all(e).then((e=>!0===e[1]&&Promise.reject(new Au(e[0]))));const Iu=_.default,Pu=vu.exports,ju=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=xu(r.concurrency),o=[...e].map((e=>[e,n(Bu,e,t)])),i=xu(r.preserveOrder?1:1/0);return Promise.all(o.map((e=>i(Su,e)))).then((()=>{})).catch((e=>e instanceof Au?e.value:Promise.reject(e)))};bu.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),ju(e,(e=>Pu(Iu.resolve(t.cwd,e))),t)),bu.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Pu.sync(Iu.resolve(t.cwd,r)))return r};const Ou=_.default,Mu=bu.exports;gu.exports=(e,t={})=>{const r=Ou.resolve(t.cwd||""),{root:n}=Ou.parse(r),o=[].concat(e);return new Promise((e=>{!function t(r){Mu(o,{cwd:r}).then((o=>{o?e(Ou.join(r,o)):r===n?e(null):t(Ou.dirname(r))}))}(r)}))},gu.exports.sync=(e,t={})=>{let r=Ou.resolve(t.cwd||"");const{root:n}=Ou.parse(r),o=[].concat(e);for(;;){const e=Mu.sync(o,{cwd:r});if(e)return Ou.join(r,e);if(r===n)return null;r=Ou.dirname(r)}};const _u=gu.exports;mu.exports=async({cwd:e}={})=>_u("package.json",{cwd:e}),mu.exports.sync=({cwd:e}={})=>_u.sync("package.json",{cwd:e});var Tu=mu.exports;class Nu{constructor(e){this.klass=e}static resolve(e,t){return Q(this,void 0,void 0,(function*(){const r=new Nu(Nu.resolveModule(e,t));return yield r.resolvePackage(),r}))}static resolveModule(e,t){let r;return(Array.isArray(e)?e:[e]).some((e=>("string"==typeof e?(r=t&&V.default.silent(_.default.dirname(_.default.resolve(t)),e)||V.default.silent(process.cwd(),e),(null==r?void 0:r.__esModule)&&(r=r.default)):r=e,r))),r||ai("The specified engine has not resolved."),r}resolvePackage(){return Q(this,void 0,void 0,(function*(){const e=this.findClassPath(this.klass);if(!e)return;const t=yield Tu({cwd:_.default.dirname(e)});t&&(this.package=require(t))}))}findClassPath(e){var t;for(const r in require.cache){const n=null===(t=require.cache[r])||void 0===t?void 0:t.exports;if(n===e||(null==n?void 0:n.__esModule)&&Object.values(n).includes(e))return r}}}var Lu=Nu.resolve;class Ru{constructor(e,t){this.filename=e,this.overrideName=!0===t.overrideName?this.genUniqName():t.overrideName,this.name=this.overrideName}get buffer(){return this.readBuffer}get css(){const e=this.buffer.toString();return this.overrideName?`${e}\n/* @theme ${this.overrideName} */`:e}load(){return Q(this,void 0,void 0,(function*(){this.readBuffer=yield M.default.promises.readFile(this.filename)}))}genUniqName(){const e=()=>Math.random().toString(36).slice(2);return`${e()}${e()}${e()}${e()}`}static initialize(e,t={}){return Q(this,void 0,void 0,(function*(){const r=new Ru(e,t);return yield r.load(),r}))}}class zu{constructor(e){this.themes=new Map,this.onThemeUpdated=()=>{},this.observedMarkdowns=new Map,this.fn=e.fn,this.fnForWatch=e.fnForWatch}findPath(){return Q(this,void 0,void 0,(function*(){return yield zu.findPath(this.fn)}))}load(e){return Q(this,void 0,void 0,(function*(){const t=_.default.resolve(e);let r=this.themes.get(t);r?yield r.load():(r=yield Ru.initialize(t),this.add(r)),void 0!==r.name&&this.notify(r.name)}))}observe(e,t){this.observedMarkdowns.set(e,t)}registerTo(e){for(const t of this.themes.values())try{const r=e.themeSet.add(t.css);t.name=r.name}catch(e){gt(`Cannot register theme CSS: ${_.default.relative(process.cwd(),t.filename)} (${e.message})`)}}unobserve(e){this.observedMarkdowns.delete(e)}add(e){this.themes.set(e.filename,e)}notify(e){this.observedMarkdowns.forEach(((t,r)=>{t===e&&this.onThemeUpdated(r)}))}static initialize(e,t=[]){return Q(this,void 0,void 0,(function*(){const r=[...e,...t.map((e=>e.filename))],n=yield zu.findPath(r),o=new Set(n.map((e=>_.default.resolve(e))));for(const e of r)if(!h.hasMagic(e.split(_.default.sep).join("/")))try{const t=yield M.default.promises.lstat(e);(t.isFile()||t.isDirectory()||t.isSymbolicLink())&&o.add(_.default.resolve(e))}catch(e){}const i=new zu({fn:r,fnForWatch:[...o]});for(const e of n)yield i.load(e);return t.forEach((e=>i.add(e))),i}))}static findPath(e){return Q(this,void 0,void 0,(function*(){return fi.findPath({expandDirectories:{extensions:[],files:["*.css"]}},...e)}))}}class Uu{constructor(){this.args={},this.conf={}}static fromArguments(e){return Q(this,void 0,void 0,(function*(){const t=new Uu;return t.args=e,!1!==e.configFile&&(yield t.loadConf(e.configFile)),t.engine=yield t.args.engine?Lu(t.args.engine):t.conf.engine?Lu(t.conf.engine,t.confPath):Lu(["@marp-team/marp-core",u.Marp]),t}))}converterOption(){var e,t,r,n,o,i,u,s,a,c,l,p,D;return Q(this,void 0,void 0,(function*(){const d=yield this.inputDir(),f=null!==(t=null!==(e=this.args.server)&&void 0!==e?e:this.conf.server)&&void 0!==t&&t,h=(()=>!f&&(void 0!==this.args.output?this.args.output:void 0!==this.conf.output?"-"===this.conf.output||!1===this.conf.output?this.conf.output:_.default.resolve(_.default.dirname(this.confPath),this.conf.output):void 0))(),m=this.args.template||this.conf.template||"bespoke",g=(()=>{var e,t,r,n;if("bespoke"===m){const o=this.conf.bespoke||{};return{osc:null!==(t=null===(e=this.args.bespoke)||void 0===e?void 0:e.osc)&&void 0!==t?t:o.osc,progress:null!==(n=null===(r=this.args.bespoke)||void 0===r?void 0:r.progress)&&void 0!==n?n:o.progress}}return{}})(),b=yield this.loadTheme(),v=b instanceof Ru?[b]:[],y=this.args.themeSet||(this.conf.themeSet?(Array.isArray(this.conf.themeSet)?this.conf.themeSet:[this.conf.themeSet]).map((e=>_.default.resolve(_.default.dirname(this.confPath),e))):[]),C=yield zu.initialize((d?[d]:[]).concat(y),v);C.themes.size<=v.length&&y.length>0&&gt("Not found additional theme CSS files.");const F=(()=>{if(this.args.pdf||this.conf.pdf)return Du.pdf;if(this.args.pptx||this.conf.pptx)return Du.pptx;const e=this.args.images||this.conf.images||this.args.image||this.conf.image;if("png"===e)return Du.png;if("jpeg"===e)return Du.jpeg;const t=(h||"").toLowerCase();return t.endsWith(".pdf")?Du.pdf:t.endsWith(".png")?Du.png:t.endsWith(".pptx")?Du.pptx:t.endsWith(".jpg")||t.endsWith(".jpeg")?Du.jpeg:Du.html})(),E=(()=>{var e;const t=null!==(e=this.args.imageScale)&&void 0!==e?e:this.conf.imageScale;return void 0!==t&&("number"!=typeof t&&ai("Image scale factor must be a number."),t<=0&&ai("Image scale factor cannot set as 0 or less."),t>10)?(gt(`You are setting too large image scale factor (x${t}). Automatically restricted to x10.`),10):t})(),w=(()=>{var e,t;const r=null!==(t=null!==(e=this.args.preview)&&void 0!==e?e:this.conf.preview)&&void 0!==t&&t;return r&&process.env.IS_DOCKER?(gt("Preview window cannot show in an official docker image. Preview option was ignored."),!1):r})();return{imageScale:E,inputDir:d,output:h,preview:w,server:f,template:m,templateOption:g,themeSet:C,type:F,allowLocalFiles:null!==(n=null!==(r=this.args.allowLocalFiles)&&void 0!==r?r:this.conf.allowLocalFiles)&&void 0!==n&&n,baseUrl:null!==(o=this.args.baseUrl)&&void 0!==o?o:this.conf.baseUrl,engine:this.engine.klass,globalDirectives:{description:null!==(i=this.args.description)&&void 0!==i?i:this.conf.description,image:null!==(u=this.args.ogImage)&&void 0!==u?u:this.conf.ogImage,theme:b instanceof Ru?b.name:b,title:null!==(s=this.args.title)&&void 0!==s?s:this.conf.title,url:null!==(a=this.args.url)&&void 0!==a?a:this.conf.url},html:null!==(c=this.args.html)&&void 0!==c?c:this.conf.html,jpegQuality:null!==(p=null!==(l=this.args.jpegQuality)&&void 0!==l?l:this.conf.jpegQuality)&&void 0!==p?p:85,lang:this.conf.lang||(yield ni()).replace(/@/g,"-"),options:this.conf.options||{},pages:!(!this.args.images&&!this.conf.images),watch:(null!==(D=this.args.watch)&&void 0!==D?D:this.conf.watch)||w||f||!1}}))}get files(){return this.args.server||this.conf.server?[]:this.args._||[]}inputDir(){return Q(this,void 0,void 0,(function*(){const e=(()=>this.args.inputDir?_.default.resolve(this.args.inputDir):this.conf.inputDir?_.default.resolve(_.default.dirname(this.confPath),this.conf.inputDir):(this.args.server||this.conf.server)&&Array.isArray(this.args._)&&(this.args._.length>1&&ai("Server mode have to specify just one directory."),1===this.args._.length)?_.default.resolve(this.args._[0]):void 0)();if(void 0===e)return;let t;try{t=yield M.default.promises.lstat(e)}catch(t){if("ENOENT"!==t.code)throw t;ai(`Input directory "${e}" is not found.`)}return t.isDirectory()||ai(`"${e}" is not directory.`),e}))}loadConf(e){return Q(this,void 0,void 0,(function*(){const t=s.cosmiconfig(Uu.moduleName);try{const r=yield void 0===e?t.search():t.load(e);r&&(this.confPath=r.filepath,this.conf=r.config)}catch(t){ai(["Could not find or parse configuration file.","Error"!==t.name&&`(${t.name})`,void 0!==e&&`[${e}]`].filter((e=>e)).join(" "))}}))}loadTheme(){return Q(this,void 0,void 0,(function*(){const e=(()=>this.args.theme?{advice:{use:"--theme-set",insteadOf:"--theme"},name:this.args.theme,path:_.default.resolve(this.args.theme)}:this.conf.theme?{advice:{use:"themeSet",insteadOf:"theme"},name:this.conf.theme,path:_.default.resolve(_.default.dirname(this.confPath),this.conf.theme)}:void 0)();if(e){try{return yield Ru.initialize(e.path,{overrideName:!0})}catch(t){if("EISDIR"===t.code&&(mt(`Please use ${Qe.yellow(e.advice.use)} option instead of ${e.advice.insteadOf} to make theme CSS available from directory.`),ai(`Directory cannot pass to theme option. (${e.path})`)),"ENOENT"!==t.code)throw t}return e.name}}))}}Uu.moduleName="marp";var Gu=Uu.fromArguments;let $u,Hu,Zu=(e=21)=>{let t=(e=>{!$u||$u.length<e?($u=Buffer.allocUnsafe(32*e),W.default.randomFillSync($u),Hu=0):Hu+e>$u.length&&(W.default.randomFillSync($u),Hu=0);let t=$u.subarray(Hu,Hu+e);return Hu+=e,t})(e),r="";for(;e--;)r+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[63&t[e]];return r};var Wu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0AgMAAAC2uDcZAAAADFBMVEUAAAABiNJnueQBZp1z8GXRAAAAA3RSTlMA/f4BYYQ1AAAFJUlEQVR42u3cuXGeMQyEYZrjwKFLcCluQv24Hlfp4L++kySwCyDwbkzyHekZXYla0zRN0zRN0zRN0zRN0zRN0zRN0zRN0zRN0zRN0zRN0zRNw/fNcrh3cv275fAPdv2n5fAv9mf+y3L4b69kb72SnV03spPrvy2H/5DrRnZy3chOrlu/2nslO7duZefWrezcuvmbfK9kp9bN7NS6mZ1at/9s75XszLqdnVm3szPrjl/peiU7se5gJ9Yd7MS65zf5XsnOq3vYeXUPO6/u+gOuV7LT6i52Wt3FTqv7/m7vleysuo+dVfexs+o+dlbdx06qO9lJdSc7qe5kJ9Wd7Jy6l51T97Jz6l52Tt3LTqm72Sl1Nzul7man1N3sjLqfnVH3szPqfnZG3c9OqAPshDrATqgD7IQ6wI7XEXa8jrDjdYQdryPscB1ih+sQO1yH2OE6xI7WMXa0jrGjdYwdrWPsYB1kB+sgO1gH2cE6yI7VUXasjrJjdZQdq6PsUB1mh+owO1SH2aE6zI7UcXakjrMjdZwdqePsQJ3ADtQJ7ECdwA7UCez+OoPdX2ew++sMdn+dwe6uU9jddQq7u05hd9cp7N46h91b57B76xx2b53D7qyT2J11EruzTmJ31knsvjqL3VdnsfvqLHZfncXuqtPYXXUau6tOY3fVaeyeOo/dU+exe+o8dk+dx+6oE9kddSK7o05kd9SJ7PY6k91eZ7Lb60x2e53Jbq5T2c11Kru5TmU316ns1jqX3VrnslvrXHZrncturJPZjXUyu7FOZjfWyey2OpvdVmez2+psdludzW6q09lNdTq7qU5nN9Xp7JY6n91S57Nb6nx2S53PbqgHsBvqAeyGegC7oR7Avl6PYF+vR7Cv1yPY1+sR7Mv1EPblgyHsy/UQ9uV6CPtqPYZ99WQM+2o9hn21HsO+WA9iXzwaxL5YD2JfrAexr9Wj2NfORrGv1aPY1+pR7Ev1MPalw2HsS/Uw9qXPqul/zn6RP/Y49pXTcewr9Tj2lXrYV/tKPZB94Xgg+0I9kH2hHsg+r0eyz89Hss/rkezzeiT7tB7KPr0Qyj6th7JP66Hss3os++xGLPusHss+q8eyT+rB7JMrweyTejD7pB7MPq5Hs4/vRLOP69Hs43o0+7Aezj68FM4+rIezD+vh7KN6PPvoVjz7qB7PPqrHsw/qCeyDawnsg3oC+6CewH5fz2C/v5fBfl/PYL+vZ7Df1lPYby+msN/WU9hv6ynsd/Uc9rubOex39Rz2u3oO+009if3mahL7TT2J/aaexH5dz2K/vpvFfl3PYr+uZ7Ff1tPYLy+nsV/W09gv62nsV/U89qvbeexX9Tz2q3oe+0U9kf3ieiL7RT2R/aKeyH6uZ7Kf72eyn+uZ7Od6Jvupnsp+eiCV/VRPZT/VU9mP9Vz24wu57Md6Lvuxnst+qCezH55IZj/Uk9kP9WT2fT2bff9GNvu+ns2+r2ez7+rp7LtH0tl39XT2XT2dfVvPZ9++ks++reezb+v57Jt6AfvmmQL2Tb2AfVMvYP/UK9g/71Swf+oV7J96Bfu7XsL+fqiE/V0vYX/XS9hf9Rr210s17K96DfurXsP+rBexP58qYn/Wi9if9SL2R72K/fFWFfujXsX+qFext17J3nole+uV7K1Xsrdeyd56JXvrleytV7K3XsneeiV765XsrVeyt17J3nole+uV7K1Xsmuapmmapmmapmmapmmapmmapmmapmmapmmapmmapmma9p/uH/kiUlWp8dyDAAAAAElFTkSuQmCC";class qu extends l.EventEmitter{}class Yu extends qu{constructor(e={}){super(),this.options={height:e.height||360,width:e.width||640}}get puppeteer(){return this.puppeteerInternal}open(e){return Q(this,void 0,void 0,(function*(){this.emit("opening",e);const t=(yield this.createWindow())||(yield this.launch());return t.on("close",(()=>this.emit("close",t))),yield t.load(e),this.emit("open",t,e),t}))}exit(){return Q(this,void 0,void 0,(function*(){this.puppeteer&&(yield this.puppeteer.close(),this.emit("exit"),this.puppeteerInternal=void 0)}))}createWindowObject(e){const t=new l.EventEmitter;return e.on("close",(()=>Q(this,void 0,void 0,(function*(){return t.emit("close")})))),Object.assign(t,{page:e,close:()=>Q(this,void 0,void 0,(function*(){try{return yield e.close()}catch(e){if(!e.message.includes("Target closed."))throw e}})),load:t=>Q(this,void 0,void 0,(function*(){yield e.goto(t,{timeout:0,waitUntil:"domcontentloaded"}),yield e.target().createCDPSession().then((e=>{e.send("Page.resetNavigationHistory").catch((()=>{}))}))}))})}createWindow(){return Q(this,void 0,void 0,(function*(){try{return this.createWindowObject(yield new Promise(((e,t)=>{const r=this.puppeteer;if(!r)return t(!1);const n=Zu(),o=t=>{new URL(t.url()).searchParams.get("__marp_cli_id")===n&&(r.off("targetcreated",o),(()=>{Q(this,void 0,void 0,(function*(){return e(yield t.page())}))})())};r.on("targetcreated",o),(()=>{Q(this,void 0,void 0,(function*(){for(const e of yield r.pages()){yield e.evaluate(`window.open('about:blank?__marp_cli_id=${n}', '', 'width=${this.options.width},height=${this.options.height}')`);break}}))})()})))}catch(e){if(!e)return!1;throw e}}))}launch(){return Q(this,void 0,void 0,(function*(){const e=Gi();this.puppeteerInternal=yield $i(Object.assign(Object.assign({},e),{args:[...e.args,`--app=data:text/html,<title>${encodeURIComponent("Marp CLI")}</title>`,`--window-size=${this.options.width},${this.options.height}`],defaultViewport:null,headless:!1,userDataDir:yield Ui("marp-cli-preview",{wslHost:Oi(e.executablePath)})})),this.puppeteerInternal.target().createCDPSession().then((e=>{e.send("Browser.setDockTile",{image:Wu.slice(22)}).catch((()=>{}))}));const t=()=>Q(this,void 0,void 0,(function*(){var e;0===((yield null===(e=this.puppeteer)||void 0===e?void 0:e.pages())||[]).length&&(yield this.exit())}));this.puppeteerInternal.on("targetcreated",(e=>{e.page().then((e=>null==e?void 0:e.on("close",t)))}));const[r]=yield this.puppeteerInternal.pages();return r.on("close",t),this.emit("launch"),this.createWindowObject(r)}))}}function Vu(e,t){if(e.type===di.File){const t=e.absolutePath.replace(/\\/g,"/");return encodeURI(`file://${t.startsWith("/")?"":"/"}${t}`)}if(e.buffer)return`data:${fu[t]};base64,${e.buffer.toString("base64")}`;ai("Processing file is not convertible to URI for preview.")}function Ju(e){var t,r,n="";try{var o={},i=e||{};(function(e,r,o,i,u,s){n+="<!DOCTYPE html>",n+="<html>",n+="<head>",n+='<meta charset="UTF-8">',n+='<meta name="google" content="notranslate">',n+='<meta name="viewport" content="width=device-width initial-scale=1.0">',n=(n+='<meta http-equiv="X-UA-Compatible" content="ie=edge">')+'<link rel="icon" type="image/png"'+hi.attr("href",o,!0,!0)+">",n=(n+="<style>")+(null==(t=s)?"":t)+"</style></head>",n+="<body>",n=(n+="<h1>")+hi.escape(null==(t=e)?"":t)+"</h1>",n+='<label id="show-all-container">',n+='<input class="toggle" id="show-all" type="checkbox">',n+="",n+="\n",n+="Show all files and directories</label>",n+='<ul id="index">',function(){var e=i;if("number"==typeof e.length)for(var o=0,u=e.length;o<u;o++){var s=e[o];n=(n=(n=n+"<li"+hi.attr("class",hi.classes([{convertible:s.convertible,directory:s.directory,nodeModules:s.nodeModules}],[!0]),!1,!0)+">")+'<a class="link file"'+hi.attr("href",r(s.name)+(s.directory?"/":""),!0,!0)+">")+hi.escape(null==(t=s.name)?"":t)+"</a>",s.convertible&&(n=n+'<a class="link pdf"'+hi.attr("href",`${r(s.name)}?pdf`,!0,!0)+">",n=(n+="PDF</a>")+'<a class="link pptx"'+hi.attr("href",`${r(s.name)}?pptx`,!0,!0)+">",n+="PPTX</a>"),n+="</li>"}else{u=0;for(var o in e){u++;s=e[o];n=(n=(n=n+"<li"+hi.attr("class",hi.classes([{convertible:s.convertible,directory:s.directory,nodeModules:s.nodeModules}],[!0]),!1,!0)+">")+'<a class="link file"'+hi.attr("href",r(s.name)+(s.directory?"/":""),!0,!0)+">")+hi.escape(null==(t=s.name)?"":t)+"</a>",s.convertible&&(n=n+'<a class="link pdf"'+hi.attr("href",`${r(s.name)}?pdf`,!0,!0)+">",n=(n+="PDF</a>")+'<a class="link pptx"'+hi.attr("href",`${r(s.name)}?pptx`,!0,!0)+">",n+="PPTX</a>"),n+="</li>"}}}.call(this),n+="</ul>",n=(n+="<script>")+(null==(t=u)?"":t)+"<\/script></body></html>"}).call(this,"directory"in i?i.directory:"undefined"!=typeof directory?directory:void 0,"encodeURIComponent"in i?i.encodeURIComponent:"undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,"favicon"in i?i.favicon:"undefined"!=typeof favicon?favicon:void 0,"files"in i?i.files:"undefined"!=typeof files?files:void 0,"script"in i?i.script:"undefined"!=typeof script?script:void 0,"style"in i?i.style:"undefined"!=typeof style?style:void 0)}catch(e){hi.rethrow(e,r,undefined,o[void 0])}return n}class Xu extends qu{constructor(e,t={}){super(),e.options.inputDir||ai("Converter have to specify an input directory."),this.converter=e,this.directoryIndex=t.directoryIndex||[],this.inputDir=e.options.inputDir,this.options=t,this.port=Number.parseInt(process.env.PORT,10)||8080}start(){return Q(this,void 0,void 0,(function*(){return this.setup(),new Promise(((e,t)=>{this.httpServer=this.server.listen(this.port),this.httpServer.on("listening",e),this.httpServer.on("error",(e=>(()=>Q(this,void 0,void 0,(function*(){yield this.stop(),"EADDRINUSE"===e.code?t(new CLIError(`Listen port ${this.port} is already used in the other process. Try again after closing the relevant process, or specify another port number through PORT env.`,exports.b.LISTEN_PORT_IS_ALREADY_USED)):t(e)})))()))}))}))}stop(){return Q(this,void 0,void 0,(function*(){if(this.httpServer){try{yield f.promisify(this.httpServer.close.bind(this.httpServer))()}catch(e){if(e instanceof Error&&"ERR_SERVER_NOT_RUNNING"!==e.code)throw e}this.httpServer=void 0}}))}convertMarkdown(e,t={}){return Q(this,void 0,void 0,(function*(){this.converter.options.output=!1,this.converter.options.pages=!1,this.converter.options.type=(()=>{const e=Object.keys(t);return e.includes("pdf")?Du.pdf:e.includes("pptx")?Du.pptx:e.includes("png")?Du.png:e.includes("jpg")||e.includes("jpeg")?Du.jpeg:Du.html})();const r=yield this.converter.convertFile(new fi(e));return this.emit("converted",r),r}))}loadScript(){return Q(this,void 0,void 0,(function*(){return void 0===Xu.script&&(Xu.script=(yield M.default.promises.readFile(_.default.resolve(__dirname,"./server/server-index.js"))).toString()),Xu.script}))}preprocess(e,t){var r;return Q(this,void 0,void 0,(function*(){const{pathname:n,query:o}=G.default.parse(e.url);if(!n)return;const i=J.default.parse(o||""),u=e=>Q(this,void 0,void 0,(function*(){try{const r=yield this.convertMarkdown(e,i);if(!r.newFile)throw new Error("Converter must return a converted file to serve.");const{type:n}=this.converter.options;n===Du.pptx&&t.attachment(`${_.default.basename(e,_.default.extname(e))}.pptx`),t.type(fu[n]).end(r.newFile.buffer)}catch(e){this.emit("error",e),t.status(503).end(e.toString())}})),s=yield this.validateMarkdown(n);if(s.valid)yield u(s.path);else if(null===(r=s.stats)||void 0===r?void 0:r.isDirectory())for(const e of this.directoryIndex){const t=yield this.validateMarkdown(_.default.join(_.default.relative(this.inputDir,s.path),e));if(t.valid){yield u(t.path);break}}}))}setup(){this.server=X.default(),this.server.get("*",((e,t,r)=>this.preprocess(e,t).then((()=>{t.finished||r()})))).use(X.default.static(this.inputDir)).use(K.default(this.inputDir,{template:this.template.bind(this)}))}template(e,t){const{directory:r,path:n,fileList:o}=e,i=[];(()=>{Q(this,void 0,void 0,(function*(){const e=yield this.loadScript();for(const e of o){const{name:t,stat:r}=e,n=null==r?void 0:r.isDirectory(),o=".."===t&&n,u="node_modules"===t&&n,s=!o&&(yield this.validateMarkdown(t,r)).valid;i.push({convertible:s,directory:n,name:t,nodeModules:u,parent:o,stat:r})}t(null,Ju({directory:r,favicon:Wu,files:i,path:n,script:e,style:'body{background:#fff;color:#444;font-family:Helvetica,Arial,sans-serif;font-size:15px}h1{font-size:26px}ul#index{list-style:none;margin:1em 2em;max-width:720px;padding:0}ul#index li{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBkPSJNNzAgMzAgNTMuNTQgMTMuNTRDNTEuNTkgMTEuNTkgNTAgMTIuMjUgNTAgMTV2MjBhNSA1IDAgMCAwIDUgNWgyMGE1IDUgMCAwIDEgNSA1djQwYTUgNSAwIDAgMS01IDVIMjVhNSA1IDAgMCAxLTUtNVYxNWE1IDUgMCAwIDEgNS01aDE1IiBmaWxsPSJub25lIiBzdHJva2U9IiM2NjYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1Ii8+PC9zdmc+");background-position:0;background-repeat:no-repeat;background-size:24px 24px;display:flex;height:30px;margin:5px 0 0;opacity:.5;padding:0 0 0 calc(24px + .5em)}ul#index li.convertible{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+Lmx7ZmlsbDpub25lO3N0cm9rZTojMDI4OGQxO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJsIiBkPSJtMzYuNzEgNzYuNzkgNTMuNTctNTMuNTh2NTMuNThIMzYuNzF6Ii8+PHBhdGggY2xhc3M9ImwiIGQ9Im0xMCA3Ni43OSA1My41Ny01My41OHY1My41OEgxMHoiLz48L3N2Zz4=");opacity:1}ul#index li.directory{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBkPSJNODIgMzBINTdhMTMuOTEgMTMuOTEgMCAwIDEtOC41NC0zLjU0bC0yLjkyLTIuOTJBMTMuOTEgMTMuOTEgMCAwIDAgMzcgMjBIMTdhNSA1IDAgMCAwLTUgNXY1MGMwIDIuNzUuNTUgMi44MiAxLjIxLjE1bDcuNTgtMzAuM0E2Ljc0IDYuNzQgMCAwIDEgMjcgNDBoNjBhMy43MyAzLjczIDAgMCAxIDMuNzkgNC44NWwtNy41OCAzMC4zQTYuNzQgNi43NCAwIDAgMSA3NyA4MEgyMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iNSIvPjwvc3ZnPg==")}ul#index li.directory:not(.nodeModules){opacity:1}ul#index li a.link{border-radius:5px;box-sizing:border-box;color:#02669d;display:block;height:30px;line-height:20px;padding:5px 10px;text-decoration:none}ul#index li a.link:focus,ul#index li a.link:hover{background:#f8f8f8;text-decoration:underline}ul#index li a.link:hover:active{background:#f0f0f0}ul#index li a.link.file{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}ul#index li a.link.pdf,ul#index li a.link.pptx{flex:0 1 auto;font-size:14px;margin:0 0 0 .5em}ul#index li a.link.pdf{color:#ee1d1f}ul#index li a.link.pptx{color:#b7472a}ul#index:not(.show-all) li.nodeModules,ul#index:not(.show-all) li:not(.convertible):not(.directory){display:none}#show-all-container{cursor:pointer;display:block;font-size:.85em;margin:1em 2em;max-width:720px;text-align:right}input.toggle[type=checkbox]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#666;border-radius:16px;cursor:pointer;display:inline-block;height:16px;margin:0;outline:0;position:relative;transition:background-color .2s ease-out;vertical-align:middle;width:32px}input.toggle[type=checkbox]:before{border:1px solid transparent;border-radius:20px;bottom:-2px;box-sizing:border-box;content:"";display:block;left:-2px;opacity:.75;position:absolute;right:-2px;top:-2px;transition:border-color .2s ease-out}input.toggle[type=checkbox]:after{background:#fff;border-radius:12px;content:"";display:inline-block;height:12px;left:2px;margin:0 auto 0 0;position:absolute;top:2px;transition:left .2s ease-out;width:12px}input.toggle[type=checkbox]:focus:before{border-color:#555}input.toggle[type=checkbox]:checked{background-color:#6c6}input.toggle[type=checkbox]:checked:focus:before{border-color:#6c6}input.toggle[type=checkbox]:checked:after{left:calc(100% - 14px)}input.toggle[type=checkbox]:hover:active{background-color:#555;transition:none}input.toggle[type=checkbox]:hover:active:checked{background-color:#5b5}'}))}))})()}validateMarkdown(e,t){return Q(this,void 0,void 0,(function*(){const r=_.default.extname(e).slice(1);let n=Di.includes(r);const o=_.default.resolve(this.inputDir),i=_.default.join(o,decodeURIComponent(e));if(!i.startsWith(o))return{valid:!1,path:i};let u;try{u=t||(yield M.default.promises.stat(i)),n=n&&!!(null==u?void 0:u.isFile())}catch(e){n=!1}return{valid:n,stats:u,path:i}}))}}function Ku(e){return Q(this,void 0,void 0,(function*(){let t="";const{engine:r}=e;return r.klass===u.Marp?(t=`@marp-team/marp-core v${B.version}`,r.package&&r.package.version!==B.version&&(t=`user-installed @marp-team/marp-core v${r.package.version}`)):t=r.package&&r.package.name&&r.package.version?`customized engine in ${r.package.name} v${r.package.version}`:"customized engine",console.log("@marp-team/marp-cli v1.1.1"+(t?` (w/ ${t})`:"")),0}))}var Qu;!function(e){e.Basic="Basic Options:",e.Converter="Converter Options:",e.Template="Template Options:",e.Meta="Meta Options:",e.Marp="Marp / Marpit Options:"}(Qu||(Qu={}));const es=[],ts="\nUsage:\n  marp [options] <files...>\n  marp [options] -I <dir>\n".trim(),rs=(e,{baseUrl:t,stdin:r,throwErrorAlways:n})=>Q(void 0,void 0,void 0,(function*(){let o,i;try{const n=O.default(e).usage(ts).help(!1).version(!1).options({version:{alias:"v",describe:"Show versions",group:Qu.Basic,type:"boolean"},help:{alias:"h",describe:"Show help",group:Qu.Basic,type:"boolean"},output:{alias:"o",describe:"Output file path (or directory when input-dir is passed)",group:Qu.Basic,type:"string"},"input-dir":{alias:"I",describe:"The base directory to find markdown and theme CSS",group:Qu.Basic,type:"string"},"config-file":{alias:["config","c"],describe:"Specify path to a configuration file",group:Qu.Basic,type:"string"},"no-config-file":{alias:["no-config"],type:"boolean",describe:"Prevent looking up for a configuration file",group:Qu.Basic},watch:{alias:"w",describe:"Watch input markdowns for changes",group:Qu.Basic,type:"boolean"},server:{alias:"s",describe:"Enable server mode",group:Qu.Basic,type:"boolean"},preview:{alias:"p",describe:"Open preview window",hidden:!!process.env.IS_DOCKER,group:Qu.Basic,type:"boolean"},stdin:{default:r,describe:"Read Markdown from stdin",hidden:!0,group:Qu.Basic,type:"boolean"},pdf:{conflicts:["image","images","pptx"],describe:"Convert slide deck into PDF",group:Qu.Converter,type:"boolean"},pptx:{conflicts:["pdf","image","images"],describe:"Convert slide deck into PowerPoint document",group:Qu.Converter,type:"boolean"},image:{conflicts:["pdf","images","pptx"],describe:"Convert the first slide page into an image file",group:Qu.Converter,choices:["png","jpeg"],coerce:e=>"jpg"===e?"jpeg":e,type:"string"},images:{conflicts:["pdf","image","pptx"],describe:"Convert slide deck into multiple image files",group:Qu.Converter,choices:["png","jpeg"],coerce:e=>"jpg"===e?"jpeg":e,type:"string"},"image-scale":{defaultDescription:"1 (or 2.5 for PPTX conversion)",describe:"The scale factor for rendered images",group:Qu.Converter,type:"number"},"jpeg-quality":{defaultDescription:"85",describe:"Setting JPEG image quality",group:Qu.Converter,type:"number"},"allow-local-files":{describe:"Allow to access local files from Markdown while converting PDF and image (NOT SECURE)",group:Qu.Converter,type:"boolean"},template:{describe:"Choose template",defaultDescription:"bespoke",group:Qu.Template,choices:Object.keys(Bi),type:"string"},"bespoke.osc":{describe:"[Bespoke] Use on-screen controller",defaultDescription:"true",group:Qu.Template,type:"boolean"},"bespoke.progress":{describe:"[Bespoke] Use progress bar",defaultDescription:"false",group:Qu.Template,type:"boolean"},title:{describe:"Define title of the slide deck",group:Qu.Meta,type:"string"},description:{describe:"Define description of the slide deck",group:Qu.Meta,type:"string"},url:{describe:"Define canonical URL",group:Qu.Meta,type:"string"},"og-image":{describe:"Define Open Graph image URL",group:Qu.Meta,type:"string"},engine:{describe:"Select Marpit based engine by module name or path",group:Qu.Marp,type:"string"},html:{describe:"Enable or disable HTML tag",group:Qu.Marp,type:"boolean"},theme:{describe:"Override theme by name or CSS file",group:Qu.Marp,type:"string"},"theme-set":{array:!0,describe:"Path to additional theme CSS files",group:Qu.Marp,type:"string"}}),u=Object.assign(Object.assign({baseUrl:t},n.argv),{_:n.argv._.map((e=>e.toString()))});if(u.help)return n.showHelp(),0;const s=yield Gu(u);if(u.version)return yield Ku(s);const a=new hu(yield s.converterOption()),c=a.options,l=()=>Q(void 0,void 0,void 0,(function*(){if(c.inputDir)return s.files.length>0?(bt("Cannot pass files together with input directory."),[]):fi.findDir(c.inputDir);return[u.stdin?yield fi.stdin():void 0,...yield fi.find(...s.files)].filter((e=>e))})),p=yield l(),{length:D}=p;if(0===D)return s.files.length>0&&gt("Not found processable Markdown file(s).\n"),n.showHelp(),s.files.length>0?1:0;const d=[],f=e=>{const{file:t,newFile:r}=e;if(!r)return;const n=(e,t)=>e.type===di.StandardIO?t:e.relativePath();d.push(r),mt(`${n(t,"<stdin>")} ${r.type===di.Null?"processed.":`=> ${n(r,"<stdout>")}`}`,{singleLine:!0})};try{c.server?yield a.convertFiles(p,{onlyScanning:!0}):(mt(`Converting ${D} markdown${D>1?"s":""}...`),yield a.convertFiles(p,{onConverted:f}))}catch(e){ai(`Failed converting Markdown. (${e.message})`,e.errorCode)}return c.watch?yield new Promise(((e,t)=>Q(void 0,void 0,void 0,(function*(){i=du([...c.inputDir?[c.inputDir]:s.files,...c.themeSet.fnForWatch],{converter:a,finder:l,events:{onConverted:f,onError:e=>bt(`Failed converting Markdown. (${e.message})`)},mode:c.server?cu.WatchMode.Notify:cu.WatchMode.Convert});const t=new Yu;if(t.on("exit",(()=>e(0))),t.on("opening",(e=>{const t=`[Preview] Opening ${e.substr(0,50)}...`;mt(Qe.cyan(t))})),c.server){o=new Xu(a,{directoryIndex:["index.md","PITCHME.md"]}),o.on("converted",f),o.on("error",(e=>bt(e.toString()))),yield o.start();const e=`http://localhost:${o.port}`,r=`[Server mode] Start server listened at ${e}/ ...`;mt(Qe.green(r)),c.preview&&(yield t.open(e))}else if(mt(Qe.green("[Watch mode] Start watching...")),c.preview)for(const e of d)c.type!==Du.pptx&&(yield t.open(Vu(e,c.type)));let r;for(;r=es.shift();)r({stop:()=>e(0)})})).catch(t))):0}catch(e){if(n||!(e instanceof CLIError))throw e;return bt(e.message),e.errorCode}finally{pu.stop(),yield Promise.all([hu.closeBrowser(),null==o?void 0:o.stop(),null==i?void 0:i.chokidar.close()])}}));exports.C=CLIError,exports.a=(e,t={})=>(Ri=!1,rs(e,Object.assign(Object.assign({},t),{stdin:!1,throwErrorAlways:!0}))),exports.c=(e=[])=>rs(e,{stdin:!0,throwErrorAlways:!1}),exports.m=rs,exports.w=()=>new Promise((e=>{es.push(e)}));